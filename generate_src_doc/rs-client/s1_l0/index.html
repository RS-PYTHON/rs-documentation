
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../staging/">
      
      
        <link rel="next" href="../rs_client_common/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>S1 L0 - RS-Python</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../_templates/sidebar_width.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
  <style>
    .custom-logo-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 10px;
      transition: all 0.1s ease-in-out;
    }

    .customBottom-logo-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      width: 100%;
      max-width: 600px;
      transition: all 0.1s ease-in-out;
    }

    .custom-logo-container img,
    .customBottom-logo-container img {
      width: auto;
      height: 50px;
      transition: all 0.1s ease-in-out;
    }

    .customTop-logo-container > div {
        margin-top: 10px;
    }

  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Move logo containers
      var topLogoContainer = document.querySelector('.customTop-logo-container');
      var bottomLogoContainer = document.querySelector('.customBottom-logo-container');
      var sidebarPrimary = document.querySelector('.md-sidebar--primary');
      var sidebarScrollwrap = document.querySelector('.md-sidebar__scrollwrap');

      if (topLogoContainer && sidebarPrimary) {
        sidebarPrimary.insertBefore(topLogoContainer, sidebarPrimary.firstChild);
      }

      if (bottomLogoContainer && sidebarScrollwrap) {
        sidebarScrollwrap.insertAdjacentElement('afterend', bottomLogoContainer);
      }

      // Theme detection and image switch
      function switchImagesBasedOnTheme() {
        var isDarkTheme = document.querySelectorAll('body[data-md-color-scheme="slate"]').length > 0;
        var images = document.querySelectorAll('img[data-dark-src]');

        images.forEach(function(img) {
          if (isDarkTheme) {
            img.src = img.getAttribute('data-dark-src');
          } else {
            img.src = img.getAttribute('data-light-src');
          }
        });
      }

      // Initial switch
      switchImagesBasedOnTheme();

      // Listen for theme change events
      $(".md-option").on("click", function (evt) {
        setTimeout(switchImagesBasedOnTheme, 100); // Delay to allow theme change to apply
      });
      /*
      var themeToggleButton = document.getElementsByClassName("md-option");
      if (themeToggleButton) {
        themeToggleButton.addEventListener('click', function() {
          setTimeout(switchImagesBasedOnTheme, 100); // Delay to allow theme change to apply
        });
      }
      */
      // If the theme change is triggered by other means
      document.documentElement.addEventListener('theme-changed', switchImagesBasedOnTheme);
    });
  </script>


  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rs_workflows.s1_l0" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
  
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="RS-Python" class="md-header__button md-logo" aria-label="RS-Python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RS-Python
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              S1 L0
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../rs-server/docs/doc/" class="md-tabs__link">
          
  
    
  
  RS-Server

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../rs-client-libraries/docs/doc/" class="md-tabs__link">
          
  
    
  
  RS-Client

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../rs-demo/doc/" class="md-tabs__link">
          
  
    
  
  RS-Notebooks

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../rs_deployment_start/" class="md-tabs__link">
          
  
    
  
  RS-Deployment

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
  <div class="customTop-logo-container custom-logo-container">
    <div class="customEU-logo">
      <a href="https://www.airbus.com/en" target="_blank">
        <img src="../../../_static/EC_POS.png"
             alt="EU Logo"
             data-light-src="../../../_static/EC_POS.png"
             data-dark-src="../../../_static/EC_NEG.png" />
      </a>
    </div>
    <div class="customCop-logo">
      <a href="https://www.csgroup.eu/en/" target="_blank">
        <img src="../../../_static/Copernicus_blue.png"
             alt="Copernicus Logo"
             data-light-src="../../../_static/Copernicus_blue.png"
             data-dark-src="../../../_static/Copernicus_white.png" />
      </a>
    </div>
    <div class="customESA-logo">
      <a href="https://www.csgroup.eu/en/" target="_blank">
        <img src="../../../_static/ESA_logo_2020_Deep.png"
             alt="ESA Logo"
             data-light-src="../../../_static/ESA_logo_2020_Deep.png"
             data-dark-src="../../../_static/ESA_logo_2020_White.png" />
      </a>
    </div>
  </div>

  <div class="customBottom-logo-container">
    <div class="customAirbus-logo">
      <a href="https://www.airbus.com/en" target="_blank">
        <img src="../../../_static/AIRBUS_Blue.png"
             alt="Airbus Logo"
             data-light-src="../../../_static/AIRBUS_Blue.png"
             data-dark-src="../../../_static/AIRBUS_White.png" />
      </a>
    </div>
    <div class="customCS-logo">
      <a href="https://www.csgroup.eu/en/" target="_blank">
        <img src="../../../_static/logo_cs_group_bleu_petit.png"
             alt="CS Group Logo"
             data-light-src="../../../_static/logo_cs_group_bleu_petit.png"
             data-dark-src="../../../_static/logo_cs_group_bleu_petit.png" />
      </a>
    </div>
  </div>

    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="RS-Python" class="md-nav__button md-logo" aria-label="RS-Python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    RS-Python
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how_to/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generate Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../rs-server/docs/doc/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    RS-Server
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            RS-Server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            User Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/user_manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General Description
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/users/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overal Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/users/functionalities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Main Functionalities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/users/oauth2_apikey_manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OAuth2 and API Key Manager
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Developer Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/developer_manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General Description
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/dev/environment/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/dev/code-style/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code style
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_4" >
        
          
          <label class="md-nav__link" for="__nav_2_3_4" id="__nav_2_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Rest
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_4">
            <span class="md-nav__icon md-icon"></span>
            API Rest
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rs-server/swagger_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SwaggerUI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../rs-server/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Python API Library
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_5" id="__nav_2_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_5">
            <span class="md-nav__icon md-icon"></span>
            Python API Library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rs-server/adgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADGS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rs-server/cadip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CADIP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/users/catalog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Catalog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rs-server/common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rs-server/frontend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frontend
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_6" >
        
          
          <label class="md-nav__link" for="__nav_2_3_6" id="__nav_2_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Additional information
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_6">
            <span class="md-nav__icon md-icon"></span>
            Additional information
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/dev/background/tree-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tree structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/dev/background/workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/dev/background/ci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../rs-client-libraries/docs/doc/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    RS-Client
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            RS-Client
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Python API Library
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Python API Library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rs_client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RS-Client Classes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RS-Client Workflows
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            RS-Client Workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../staging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Staging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    S1 L0
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    S1 L0
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0" class="md-nav__link">
    <span class="md-ellipsis">
      s1_l0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.PrefectS1L0FlowConfig" class="md-nav__link">
    <span class="md-ellipsis">
      PrefectS1L0FlowConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PrefectS1L0FlowConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.PrefectS1L0FlowConfig.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.build_eopf_triggering_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      build_eopf_triggering_yaml
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.create_cql2_filter" class="md-nav__link">
    <span class="md-ellipsis">
      create_cql2_filter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.gen_payload_inputs" class="md-nav__link">
    <span class="md-ellipsis">
      gen_payload_inputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.gen_payload_outputs" class="md-nav__link">
    <span class="md-ellipsis">
      gen_payload_outputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.get_adgs_catalog_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_adgs_catalog_data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.get_cadip_catalog_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_cadip_catalog_data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.get_yaml_outputs" class="md-nav__link">
    <span class="md-ellipsis">
      get_yaml_outputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.s1_l0_flow" class="md-nav__link">
    <span class="md-ellipsis">
      s1_l0_flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_workflows.s1_l0.start_dpr" class="md-nav__link">
    <span class="md-ellipsis">
      start_dpr
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rs_client_common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RS-Client Common
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../rs-demo/doc/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    RS-Notebooks
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            RS-Notebooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Modes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RS-Deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            RS-Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs_deployment_start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../rs-infrastructure/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Infrastructure Deployment
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Infrastructure Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Cluster%20Management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Cluster%20start%20and%20stop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster start and stop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/GitHub%20Container%20Registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub container registry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Ingress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ingress controller
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Prefect-Worker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prefect worker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Remote%20kubectl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote kubectl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Wazuh-Server_Install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wazuh Server installation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../rs-helm/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Applications Deployment
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Applications Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>S1 L0</h1>

<div class="doc doc-object doc-module">



<a id="rs_workflows.s1_l0"></a>
    <div class="doc doc-contents first">

      <p>Prefect flow for processing a S1 L0 product</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="rs_workflows.s1_l0.PrefectS1L0FlowConfig" class="doc doc-heading">
            <code>PrefectS1L0FlowConfig</code>


</h2>


    <div class="doc doc-contents ">


      <p>Configuration for Prefect flow related to S1 Level 0 data.</p>

              <details class="quote">
                <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PrefectS1L0FlowConfig</span><span class="p">:</span>  <span class="c1"># pylint: disable=too-few-public-methods, too-many-instance-attributes</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configuration for Prefect flow related to S1 Level 0 data.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">stac_client</span><span class="p">:</span> <span class="n">StacClient</span><span class="p">,</span>
        <span class="n">url_dpr</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">mission</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">cadip_session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">product_types</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
        <span class="n">adgs_files</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
        <span class="n">s3_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">temp_s3_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the PrefectS1L0FlowConfig object with provided parameters.</span>

<span class="sd">        Args:</span>
<span class="sd">            stac_client (StacClient): StacClient instance</span>
<span class="sd">            url_dpr (str): The URL of the dpr endpoint</span>
<span class="sd">            mission (str): The mission name.</span>
<span class="sd">            cadip_session_id (str): The CADIP session ID.</span>
<span class="sd">            product_types (list): The list with the products types to be processed by the DPR</span>
<span class="sd">            adgs_files (list): ADGS files in the catalog.</span>
<span class="sd">            s3_path (str): The S3 path.</span>
<span class="sd">            temp_s3_path (str): The temporary S3 path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stac_client</span><span class="p">:</span> <span class="n">StacClient</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># don&#39;t save this instance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rs_client_serialization</span> <span class="o">=</span> <span class="n">RsClientSerialization</span><span class="p">(</span><span class="n">stac_client</span><span class="p">)</span>  <span class="c1"># save the serialization parameters instead</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url_dpr</span> <span class="o">=</span> <span class="n">url_dpr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mission</span> <span class="o">=</span> <span class="n">mission</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cadip_session_id</span> <span class="o">=</span> <span class="n">cadip_session_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">product_types</span> <span class="o">=</span> <span class="n">product_types</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">adgs_files</span> <span class="o">=</span> <span class="n">adgs_files</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s3_path</span> <span class="o">=</span> <span class="n">s3_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">temp_s3_path</span> <span class="o">=</span> <span class="n">temp_s3_path</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="rs_workflows.s1_l0.PrefectS1L0FlowConfig.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">stac_client</span><span class="p">,</span> <span class="n">url_dpr</span><span class="p">,</span> <span class="n">mission</span><span class="p">,</span> <span class="n">cadip_session_id</span><span class="p">,</span> <span class="n">product_types</span><span class="p">,</span> <span class="n">adgs_files</span><span class="p">,</span> <span class="n">s3_path</span><span class="p">,</span> <span class="n">temp_s3_path</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Initialize the PrefectS1L0FlowConfig object with provided parameters.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>stac_client</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="rs_client.stac_client.StacClient" href="../rs_client/#rs_client.stac_client.StacClient">StacClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>StacClient instance</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>url_dpr</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The URL of the dpr endpoint</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>mission</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The mission name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>cadip_session_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The CADIP session ID.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>product_types</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list with the products types to be processed by the DPR</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>adgs_files</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ADGS files in the catalog.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>s3_path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The S3 path.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>temp_s3_path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The temporary S3 path.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">stac_client</span><span class="p">:</span> <span class="n">StacClient</span><span class="p">,</span>
    <span class="n">url_dpr</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">mission</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">cadip_session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">product_types</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="n">adgs_files</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="n">s3_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">temp_s3_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the PrefectS1L0FlowConfig object with provided parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        stac_client (StacClient): StacClient instance</span>
<span class="sd">        url_dpr (str): The URL of the dpr endpoint</span>
<span class="sd">        mission (str): The mission name.</span>
<span class="sd">        cadip_session_id (str): The CADIP session ID.</span>
<span class="sd">        product_types (list): The list with the products types to be processed by the DPR</span>
<span class="sd">        adgs_files (list): ADGS files in the catalog.</span>
<span class="sd">        s3_path (str): The S3 path.</span>
<span class="sd">        temp_s3_path (str): The temporary S3 path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stac_client</span><span class="p">:</span> <span class="n">StacClient</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># don&#39;t save this instance</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rs_client_serialization</span> <span class="o">=</span> <span class="n">RsClientSerialization</span><span class="p">(</span><span class="n">stac_client</span><span class="p">)</span>  <span class="c1"># save the serialization parameters instead</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url_dpr</span> <span class="o">=</span> <span class="n">url_dpr</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mission</span> <span class="o">=</span> <span class="n">mission</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cadip_session_id</span> <span class="o">=</span> <span class="n">cadip_session_id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">product_types</span> <span class="o">=</span> <span class="n">product_types</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">adgs_files</span> <span class="o">=</span> <span class="n">adgs_files</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">s3_path</span> <span class="o">=</span> <span class="n">s3_path</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">temp_s3_path</span> <span class="o">=</span> <span class="n">temp_s3_path</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="rs_workflows.s1_l0.build_eopf_triggering_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_eopf_triggering_yaml</span><span class="p">(</span><span class="n">cadip_files</span><span class="p">,</span> <span class="n">adgs_files</span><span class="p">,</span> <span class="n">product_types</span><span class="p">,</span> <span class="n">temp_s3_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Builds the EOPF triggering YAML file using CADIP and ADGS file paths.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>cadip_files</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>CADIP files metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>adgs_files</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ADGS files metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>product_types</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The types for the output products</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>temp_s3_path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Temporary S3 path.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>response</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated YAML template with updated inputs and I/O products, or None if unsuccessful.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Raises:
    FileNotFoundError: If the YAML template file is not found.
    yaml.YAMLError: If there is an error loading the YAML template file.
    IOError: If there is an input/output error while accessing the YAML template file.</p>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@task</span>
<span class="k">def</span> <span class="nf">build_eopf_triggering_yaml</span><span class="p">(</span><span class="n">cadip_files</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">adgs_files</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">product_types</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">temp_s3_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Builds the EOPF triggering YAML file using CADIP and ADGS file paths.</span>

<span class="sd">    Args:</span>
<span class="sd">        cadip_files (dict): CADIP files metadata.</span>
<span class="sd">        adgs_files (dict): ADGS files metadata.</span>
<span class="sd">        product_types (list): The types for the output products</span>
<span class="sd">        temp_s3_path (str): Temporary S3 path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        response (dict): The generated YAML template with updated inputs and I/O products, or None if unsuccessful.</span>
<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: If the YAML template file is not found.</span>
<span class="sd">        yaml.YAMLError: If there is an error loading the YAML template file.</span>
<span class="sd">        IOError: If there is an input/output error while accessing the YAML template file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span> <span class="o">=</span> <span class="n">Logging</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="n">LOGGER_NAME</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Task build_eopf_triggering_yaml STARTED&quot;</span><span class="p">)</span>
    <span class="c1"># Load YAML template</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">CONFIG_DIR</span> <span class="o">/</span> <span class="n">YAML_TEMPLATE_FILE</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
            <span class="n">yaml_template</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">yaml_file</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find the YAML template file: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">YAMLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not load the YAML template file: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="ne">IOError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find the YAML template file: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># Extract paths for CADIP and ADGS files</span>
    <span class="n">cadip_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">file_prop</span><span class="p">[</span><span class="s2">&quot;assets&quot;</span><span class="p">][</span><span class="s2">&quot;file&quot;</span><span class="p">][</span><span class="s2">&quot;alternate&quot;</span><span class="p">][</span><span class="s2">&quot;s3&quot;</span><span class="p">][</span><span class="s2">&quot;href&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">file_prop</span> <span class="ow">in</span> <span class="n">cadip_files</span><span class="p">]</span>
    <span class="n">adgs_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">file_prop</span><span class="p">[</span><span class="s2">&quot;assets&quot;</span><span class="p">][</span><span class="s2">&quot;file&quot;</span><span class="p">][</span><span class="s2">&quot;alternate&quot;</span><span class="p">][</span><span class="s2">&quot;s3&quot;</span><span class="p">][</span><span class="s2">&quot;href&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">file_prop</span> <span class="ow">in</span> <span class="n">adgs_files</span><span class="p">]</span>
    <span class="c1"># create the dictionaries to insert within the yaml template</span>

    <span class="c1"># Update the YAML template with inputs and I/O products</span>
    <span class="n">yaml_template</span><span class="p">[</span><span class="s2">&quot;workflow&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;inputs&quot;</span><span class="p">],</span> <span class="n">yaml_template</span><span class="p">[</span><span class="s2">&quot;I/O&quot;</span><span class="p">][</span><span class="s2">&quot;inputs_products&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gen_payload_inputs</span><span class="p">(</span>
        <span class="n">cadip_paths</span><span class="p">,</span>
        <span class="n">adgs_paths</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Update the YAML  with the outpurs</span>
    <span class="n">yaml_template</span><span class="p">[</span><span class="s2">&quot;workflow&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;parameters&quot;</span><span class="p">][</span><span class="s2">&quot;product_types&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">product_types</span>
    <span class="n">yaml_template</span><span class="p">[</span><span class="s2">&quot;workflow&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;outputs&quot;</span><span class="p">],</span> <span class="n">yaml_template</span><span class="p">[</span><span class="s2">&quot;I/O&quot;</span><span class="p">][</span><span class="s2">&quot;output_products&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gen_payload_outputs</span><span class="p">(</span>
        <span class="n">product_types</span><span class="p">,</span>
        <span class="n">temp_s3_path</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Task build_eopf_triggering_yaml FINISHED&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">yaml_template</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_workflows.s1_l0.create_cql2_filter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_cql2_filter</span><span class="p">(</span><span class="n">properties</span><span class="p">,</span> <span class="n">op</span><span class="o">=</span><span class="s1">&#39;and&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Create a CQL2 filter based on provided properties,
see: https://pystac-client.readthedocs.io/en/stable/tutorials/cql2-filter.html</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>properties</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing field-value pairs for filtering.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>op</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Logical operator to combine filter conditions. Defaults to "and".</p>
              </div>
            </td>
            <td>
                  <code>&#39;and&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>ret</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>CQL2 filter.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_cql2_filter</span><span class="p">(</span><span class="n">properties</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;and&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a CQL2 filter based on provided properties,</span>
<span class="sd">    see: https://pystac-client.readthedocs.io/en/stable/tutorials/cql2-filter.html</span>

<span class="sd">    Args:</span>
<span class="sd">        properties (dict): Dictionary containing field-value pairs for filtering.</span>
<span class="sd">        op (str, optional): Logical operator to combine filter conditions. Defaults to &quot;and&quot;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ret (dict): CQL2 filter.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;property&quot;</span><span class="p">:</span> <span class="n">field</span><span class="p">},</span> <span class="n">value</span><span class="p">]}</span> <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">properties</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
    <span class="c1"># args.append(&quot;collecttion=test_user_s1_chunk&quot;)</span>
    <span class="c1"># this filter is used for getting the files for one CADIP seesion id</span>
    <span class="c1"># There can&#39;t be more than 60 files for a cadip session, so a hardcoded limit of 1000 seems</span>
    <span class="c1"># to be ok for the time being</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;filter-lang&quot;</span><span class="p">:</span> <span class="s2">&quot;cql2-json&quot;</span><span class="p">,</span> <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="s2">&quot;1000&quot;</span><span class="p">,</span> <span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;op&quot;</span><span class="p">:</span> <span class="n">op</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">}}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_workflows.s1_l0.gen_payload_inputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">gen_payload_inputs</span><span class="p">(</span><span class="n">cadu_list</span><span class="p">,</span> <span class="n">adgs_list</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate payload inputs for the EOPF triggering YAML file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>cadu_list</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of CADU file paths.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>adgs_list</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of ADGS file paths.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>tuple</code></td>            <td>
                  <code>[list, list]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple containing the composer dictionary and the YAML content list.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">gen_payload_inputs</span><span class="p">(</span><span class="n">cadu_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">adgs_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate payload inputs for the EOPF triggering YAML file.</span>

<span class="sd">    Args:</span>
<span class="sd">        cadu_list (list): List of CADU file paths.</span>
<span class="sd">        adgs_list (list): List of ADGS file paths.</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple ([list, list]): A tuple containing the composer dictionary and the YAML content list.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">input_body</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">composer</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">add_input</span><span class="p">(</span><span class="n">file_list</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">start_cnt</span><span class="p">):</span>
        <span class="k">nonlocal</span> <span class="n">composer</span>
        <span class="k">nonlocal</span> <span class="n">input_body</span>

        <span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">file</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">file_list</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start_cnt</span><span class="p">):</span>
            <span class="n">file_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;in</span><span class="si">{</span><span class="n">cnt</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">input_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">cnt</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">composer</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="n">file_id</span><span class="p">:</span> <span class="n">input_id</span><span class="p">})</span>
            <span class="n">yaml_template</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">input_id</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s2">&quot;store_type&quot;</span><span class="p">:</span> <span class="n">file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;store_params&quot;</span><span class="p">:</span> <span class="p">{}}</span>
            <span class="n">input_body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yaml_template</span><span class="p">)</span>

    <span class="n">add_input</span><span class="p">(</span><span class="n">cadu_list</span><span class="p">,</span> <span class="s2">&quot;CADU&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">add_input</span><span class="p">(</span><span class="n">adgs_list</span><span class="p">,</span> <span class="s2">&quot;ADGS&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">cadu_list</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">composer</span><span class="p">,</span> <span class="n">input_body</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_workflows.s1_l0.gen_payload_outputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">gen_payload_outputs</span><span class="p">(</span><span class="n">product_types</span><span class="p">,</span> <span class="n">temp_s3_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Generate payload outputs for product types.</p>
<p>This function generates composer and output_body payloads for a list of product types,
each associated with a temporary S3 path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>product_types</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of product types.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>temp_s3_path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The temporary S3 path where the products will be stored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Tuple</code></td>            <td>
                  <code>[list, list]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple containing composer and output_body payloads.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">gen_payload_outputs</span><span class="p">(</span><span class="n">product_types</span><span class="p">,</span> <span class="n">temp_s3_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate payload outputs for product types.</span>

<span class="sd">    This function generates composer and output_body payloads for a list of product types,</span>
<span class="sd">    each associated with a temporary S3 path.</span>

<span class="sd">    Args:</span>
<span class="sd">        product_types (list): A list of product types.</span>
<span class="sd">        temp_s3_path (str): The temporary S3 path where the products will be stored.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple ([list, list]): A tuple containing composer and output_body payloads.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">composer</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">output_body</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">temp_s3_path</span> <span class="o">=</span> <span class="n">temp_s3_path</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">typecnt</span><span class="p">,</span> <span class="n">ptype</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">product_types</span><span class="p">):</span>
        <span class="n">composer</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;out</span><span class="si">{</span><span class="n">typecnt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">ptype</span><span class="p">})</span>
        <span class="n">output_body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">ptype</span><span class="p">,</span>
                <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">temp_s3_path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">ptype</span><span class="si">}</span><span class="s2">/&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;folder|zip&quot;</span><span class="p">,</span>
                <span class="s2">&quot;store_type&quot;</span><span class="p">:</span> <span class="s2">&quot;zarr&quot;</span><span class="p">,</span>
                <span class="s2">&quot;store_params&quot;</span><span class="p">:</span> <span class="p">{},</span>
            <span class="p">},</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">composer</span><span class="p">,</span> <span class="n">output_body</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_workflows.s1_l0.get_adgs_catalog_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_adgs_catalog_data</span><span class="p">(</span><span class="n">stac_client</span><span class="p">,</span> <span class="n">collection</span><span class="p">,</span> <span class="n">files</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Prefect task to retrieve ADGS catalog data for specific files in a collection.</p>
<p>This task retrieves ADGS catalog data by sending a request to the ADGS
catalog search endpoint with filters based on the collection and file IDs.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>stac_client</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="rs_client.stac_client.StacClient" href="../rs_client/#rs_client.stac_client.StacClient">StacClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The StacClient instance for accessing the ADGS catalog.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>collection</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the collection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>files</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of file IDs to retrieve from the catalog.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>response</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ADGS catalog data if retrieval is successful, otherwise None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@task</span>
<span class="k">def</span> <span class="nf">get_adgs_catalog_data</span><span class="p">(</span>
    <span class="n">stac_client</span><span class="p">:</span> <span class="n">StacClient</span><span class="p">,</span>  <span class="c1"># NOTE: maybe use RsClientSerialization instead</span>
    <span class="n">collection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">files</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prefect task to retrieve ADGS catalog data for specific files in a collection.</span>

<span class="sd">    This task retrieves ADGS catalog data by sending a request to the ADGS</span>
<span class="sd">    catalog search endpoint with filters based on the collection and file IDs.</span>

<span class="sd">    Args:</span>
<span class="sd">        stac_client (StacClient): The StacClient instance for accessing the ADGS catalog.</span>
<span class="sd">        collection (str): The name of the collection.</span>
<span class="sd">        files (list): A list of file IDs to retrieve from the catalog.</span>

<span class="sd">    Returns:</span>
<span class="sd">        response (dict): The ADGS catalog data if retrieval is successful, otherwise None.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">stac_client</span><span class="o">.</span><span class="n">logger</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Task get_adgs_catalog_data STARTED&quot;</span><span class="p">)</span>

    <span class="n">_filter</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;and&quot;</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;collection&quot;</span><span class="p">},</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stac_client</span><span class="o">.</span><span class="n">owner_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">collection</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]},</span>
            <span class="p">{</span><span class="s2">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;owner&quot;</span><span class="p">},</span> <span class="n">stac_client</span><span class="o">.</span><span class="n">owner_id</span><span class="p">]},</span>
            <span class="p">{</span><span class="s2">&quot;op&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;id&quot;</span><span class="p">},</span> <span class="n">files</span><span class="p">]},</span>
        <span class="p">],</span>
    <span class="p">}</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">search</span> <span class="o">=</span> <span class="n">stac_client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">_filter</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">search</span><span class="o">.</span><span class="n">items_as_dicts</span><span class="p">())</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Task get_adgs_catalog_data FINISHED&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span>
    <span class="k">except</span> <span class="ne">NotImplementedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Search exception caught: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_workflows.s1_l0.get_cadip_catalog_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_cadip_catalog_data</span><span class="p">(</span><span class="n">stac_client</span><span class="p">,</span> <span class="n">collection</span><span class="p">,</span> <span class="n">session_id</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Prefect task to retrieve CADIP catalog data for a specific collection and session ID.</p>
<p>This task retrieves CADIP catalog data by sending a request to the CADIP
catalog search endpoint with a filter based on the collection and session ID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>stac_client</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="rs_client.stac_client.StacClient" href="../rs_client/#rs_client.stac_client.StacClient">StacClient</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The StacClient instance for accessing the CADIP catalog.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>collection</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the collection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>session_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The session ID associated with the collection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>response</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The CADIP catalog data if retrieval is successful, otherwise None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@task</span>
<span class="k">def</span> <span class="nf">get_cadip_catalog_data</span><span class="p">(</span>
    <span class="n">stac_client</span><span class="p">:</span> <span class="n">StacClient</span><span class="p">,</span>  <span class="c1"># NOTE: maybe use RsClientSerialization instead</span>
    <span class="n">collection</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prefect task to retrieve CADIP catalog data for a specific collection and session ID.</span>

<span class="sd">    This task retrieves CADIP catalog data by sending a request to the CADIP</span>
<span class="sd">    catalog search endpoint with a filter based on the collection and session ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        stac_client (StacClient): The StacClient instance for accessing the CADIP catalog.</span>
<span class="sd">        collection (str): The name of the collection.</span>
<span class="sd">        session_id (str): The session ID associated with the collection.</span>

<span class="sd">    Returns:</span>
<span class="sd">        response (dict): The CADIP catalog data if retrieval is successful, otherwise None.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">stac_client</span><span class="o">.</span><span class="n">logger</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Task get_cadip_catalog_data STARTED&quot;</span><span class="p">)</span>

    <span class="n">_filter</span> <span class="o">=</span> <span class="n">create_cql2_filter</span><span class="p">({</span><span class="s2">&quot;collection&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stac_client</span><span class="o">.</span><span class="n">owner_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">collection</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;cadip:session_id&quot;</span><span class="p">:</span> <span class="n">session_id</span><span class="p">})</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">search</span> <span class="o">=</span> <span class="n">stac_client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">_filter</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">search</span><span class="o">.</span><span class="n">items_as_dicts</span><span class="p">())</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Task get_cadip_catalog_data FINISHED&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span>
    <span class="k">except</span> <span class="ne">NotImplementedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Search exception caught: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_workflows.s1_l0.get_yaml_outputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_yaml_outputs</span><span class="p">(</span><span class="n">template</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Extract the paths of YAML outputs from the template.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>template</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The YAML template.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of paths for YAML outputs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_yaml_outputs</span><span class="p">(</span><span class="n">template</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract the paths of YAML outputs from the template.</span>

<span class="sd">    Args:</span>
<span class="sd">        template (dict): The YAML template.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list (list): A list of paths for YAML outputs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">out</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">out</span> <span class="ow">in</span> <span class="n">template</span><span class="p">[</span><span class="s2">&quot;I/O&quot;</span><span class="p">][</span><span class="s2">&quot;output_products&quot;</span><span class="p">]]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_workflows.s1_l0.s1_l0_flow" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">s1_l0_flow</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Constructs a Prefect Flow for Sentinel-1 Level 0 processing.</p>
<p>This flow oversees the execution of tasks involved in processing Sentinel-1 Level 0 data. It coordinates sequential
and parallel tasks, including retrieving catalog data concurrently from CADIP and ADGS stations, generating YAML
configuration based on the retrieved data, initiating the processing based on the YAML configuration, updating the
STAC catalog according to processing results, and publishing the processed files contingent upon catalog updates.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>config</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="rs_workflows.s1_l0.PrefectS1L0FlowConfig" href="#rs_workflows.s1_l0.PrefectS1L0FlowConfig">PrefectS1L0FlowConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration for the flow.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@flow</span><span class="p">(</span>
    <span class="n">flow_run_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{config.rs_client_serialization.get_flow_name}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">task_runner</span><span class="o">=</span><span class="n">DaskTaskRunner</span><span class="p">(</span><span class="n">cluster_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;n_workers&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;threads_per_worker&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}),</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">s1_l0_flow</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">PrefectS1L0FlowConfig</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-many-locals</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs a Prefect Flow for Sentinel-1 Level 0 processing.</span>

<span class="sd">    This flow oversees the execution of tasks involved in processing Sentinel-1 Level 0 data. It coordinates sequential</span>
<span class="sd">    and parallel tasks, including retrieving catalog data concurrently from CADIP and ADGS stations, generating YAML</span>
<span class="sd">    configuration based on the retrieved data, initiating the processing based on the YAML configuration, updating the</span>
<span class="sd">    STAC catalog according to processing results, and publishing the processed files contingent upon catalog updates.</span>

<span class="sd">    Args:</span>
<span class="sd">        config (PrefectS1L0FlowConfig): Configuration for the flow.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span> <span class="o">=</span> <span class="n">get_prefect_logger</span><span class="p">(</span><span class="n">LOGGER_NAME</span><span class="p">)</span>

    <span class="c1"># Deserialize the RsClient instance</span>
    <span class="n">config</span><span class="o">.</span><span class="n">stac_client</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">rs_client_serialization</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">logger</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="c1"># Check the product types</span>
    <span class="n">ok_types</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;S1SEWRAW&quot;</span><span class="p">,</span> <span class="s2">&quot;S1SIWRAW&quot;</span><span class="p">,</span> <span class="s2">&quot;S1SSMRAW&quot;</span><span class="p">,</span> <span class="s2">&quot;S1SWVRAW&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">product_type</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">product_types</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">product_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ok_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unrecognized product type: </span><span class="si">{</span><span class="n">product_type</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="s2">&quot;It should be one of: </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ok_types</span><span class="p">),</span>
            <span class="p">)</span>

    <span class="c1"># TODO: the station for CADIP should come as an input</span>
    <span class="n">cadip_collection</span> <span class="o">=</span> <span class="n">create_collection_name</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">mission</span><span class="p">,</span> <span class="n">ECadipStation</span><span class="p">[</span><span class="s2">&quot;CADIP&quot;</span><span class="p">])</span>
    <span class="n">adgs_collection</span> <span class="o">=</span> <span class="n">create_collection_name</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">mission</span><span class="p">,</span> <span class="n">AUXIP_STATION</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Collections: </span><span class="si">{</span><span class="n">cadip_collection</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">adgs_collection</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># gather the data for cadip session id</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Starting task get_cadip_catalog_data&quot;</span><span class="p">)</span>
    <span class="n">cadip_catalog_data</span> <span class="o">=</span> <span class="n">get_cadip_catalog_data</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span>
        <span class="n">config</span><span class="o">.</span><span class="n">stac_client</span><span class="p">,</span>  <span class="c1"># type: ignore # NOTE: maybe use RsClientSerialization instead</span>
        <span class="n">cadip_collection</span><span class="p">,</span>
        <span class="n">config</span><span class="o">.</span><span class="n">cadip_session_id</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># logger.debug(f&quot;cadip_catalog_data = {cadip_catalog_data} | {cadip_catalog_data.result()}&quot;)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Starting task get_adgs_catalog_data&quot;</span><span class="p">)</span>
    <span class="n">adgs_catalog_data</span> <span class="o">=</span> <span class="n">get_adgs_catalog_data</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span>
        <span class="n">config</span><span class="o">.</span><span class="n">stac_client</span><span class="p">,</span>  <span class="c1"># type: ignore # NOTE: maybe use RsClientSerialization instead</span>
        <span class="n">adgs_collection</span><span class="p">,</span>
        <span class="n">config</span><span class="o">.</span><span class="n">adgs_files</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># the previous tasks may be launched in parallel. The next task depends on the results from these previous tasks</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">cadip_catalog_data</span><span class="o">.</span><span class="n">result</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No Cadip files were found in the catalog for Cadip session ID: </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">cadip_session_id</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">adgs_catalog_data</span><span class="o">.</span><span class="n">result</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>  <span class="c1"># pylint: disable=logging-not-lazy</span>
            <span class="s2">&quot;None of these Auxip files were found in the catalog:</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">adgs_files</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Starting task build_eopf_triggering_yaml &quot;</span><span class="p">)</span>
    <span class="n">yaml_dpr_input</span> <span class="o">=</span> <span class="n">build_eopf_triggering_yaml</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span>
        <span class="n">cadip_catalog_data</span><span class="o">.</span><span class="n">result</span><span class="p">(),</span>
        <span class="n">adgs_catalog_data</span><span class="o">.</span><span class="n">result</span><span class="p">(),</span>
        <span class="n">config</span><span class="o">.</span><span class="n">product_types</span><span class="p">,</span>
        <span class="n">config</span><span class="o">.</span><span class="n">temp_s3_path</span><span class="p">,</span>
        <span class="n">wait_for</span><span class="o">=</span><span class="p">[</span><span class="n">cadip_catalog_data</span><span class="p">,</span> <span class="n">adgs_catalog_data</span><span class="p">],</span>
    <span class="p">)</span>
    <span class="c1"># the output product list should be :S1SEWRAW S1SIWRAW S1SSMRAW S1SWVRAW</span>
    <span class="c1"># according to the jira story</span>

    <span class="c1"># this task depends on the result from the previous task</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Starting task start_dpr&quot;</span><span class="p">)</span>
    <span class="n">files_stac</span> <span class="o">=</span> <span class="n">start_dpr</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">url_dpr</span><span class="p">,</span> <span class="n">yaml_dpr_input</span><span class="o">.</span><span class="n">result</span><span class="p">(),</span> <span class="n">wait_for</span><span class="o">=</span><span class="p">[</span><span class="n">yaml_dpr_input</span><span class="p">])</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">files_stac</span><span class="o">.</span><span class="n">result</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;DPR did not processed anything&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># The final collection where the processed products will be stored is assumed to be named &quot;mission_dpr&quot;.</span>
    <span class="c1"># However, it might be necessary to allow the users to input a specific collection name</span>
    <span class="c1"># if they wish to do so. There is no established guide in the US for this matter.</span>
    <span class="n">collection_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">mission</span><span class="si">}</span><span class="s2">_dpr&quot;</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="n">config</span><span class="o">.</span><span class="n">stac_client</span><span class="o">.</span><span class="n">add_collection</span><span class="p">(</span>
        <span class="n">Collection</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">collection_name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># rs-client will provide a default description for us</span>
            <span class="n">extent</span><span class="o">=</span><span class="n">Extent</span><span class="p">(</span>
                <span class="n">spatial</span><span class="o">=</span><span class="n">SpatialExtent</span><span class="p">(</span><span class="n">bboxes</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">180.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">90.0</span><span class="p">,</span> <span class="mf">180.0</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">]),</span>
                <span class="n">temporal</span><span class="o">=</span><span class="n">TemporalExtent</span><span class="p">([</span><span class="n">now</span><span class="p">,</span> <span class="n">now</span><span class="p">]),</span>
            <span class="p">),</span>
        <span class="p">),</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">CATALOG_REQUEST_TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">fin_res</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">output_product</span> <span class="ow">in</span> <span class="n">get_yaml_outputs</span><span class="p">(</span><span class="n">yaml_dpr_input</span><span class="o">.</span><span class="n">result</span><span class="p">()):</span>
        <span class="n">matching_stac</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
            <span class="p">(</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">files_stac</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;stac_discovery&quot;</span><span class="p">][</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;eopf:type&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">output_product</span><span class="p">),</span>
            <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">matching_stac</span><span class="p">[</span><span class="s2">&quot;stac_discovery&quot;</span><span class="p">][</span><span class="s2">&quot;assets&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">}}</span>

        <span class="c1"># Update catalog (it moves the products from temporary bucket to the final one)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting task update_stac_catalog&quot;</span><span class="p">)</span>
        <span class="n">fin_res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="n">update_stac_catalog</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span>
                    <span class="n">config</span><span class="o">.</span><span class="n">stac_client</span><span class="p">,</span>  <span class="c1"># NOTE: maybe use RsClientSerialization instead</span>
                    <span class="n">collection_name</span><span class="p">,</span>
                    <span class="n">matching_stac</span><span class="p">[</span><span class="s2">&quot;stac_discovery&quot;</span><span class="p">],</span>
                    <span class="n">output_product</span><span class="p">,</span>
                    <span class="n">wait_for</span><span class="o">=</span><span class="p">[</span><span class="n">files_stac</span><span class="p">],</span>
                <span class="p">),</span>
                <span class="n">output_product</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;All tasks submitted&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">tsk</span> <span class="ow">in</span> <span class="n">fin_res</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">tsk</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">result</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File well published: </span><span class="si">{</span><span class="n">tsk</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File could not be published: </span><span class="si">{</span><span class="n">tsk</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;S1 L0 prefect flow finished&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_workflows.s1_l0.start_dpr" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">start_dpr</span><span class="p">(</span><span class="n">dpr_endpoint</span><span class="p">,</span> <span class="n">yaml_dpr_input</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Starts the DPR processing with the given YAML input.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>dpr_endpoint</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The endpoint of the DPR processor</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>yaml_dpr_input</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The YAML input for DPR processing.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>response</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The response JSON from the DPR simulator if successful, else None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_workflows/s1_l0.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@task</span>
<span class="k">def</span> <span class="nf">start_dpr</span><span class="p">(</span><span class="n">dpr_endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">yaml_dpr_input</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Starts the DPR processing with the given YAML input.</span>

<span class="sd">    Args:</span>
<span class="sd">        dpr_endpoint (str): The endpoint of the DPR processor</span>
<span class="sd">        yaml_dpr_input (dict): The YAML input for DPR processing.</span>

<span class="sd">    Returns:</span>
<span class="sd">        response (dict): The response JSON from the DPR simulator if successful, else None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span> <span class="o">=</span> <span class="n">Logging</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="n">LOGGER_NAME</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Task start_dpr STARTED&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Faking dpr processing with the following input file:&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">yaml_dpr_input</span><span class="p">))</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="n">dpr_endpoint</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/run&quot;</span><span class="p">,</span>
            <span class="n">json</span><span class="o">=</span><span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">yaml_dpr_input</span><span class="p">)),</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">DPR_PROCESSING_TIMEOUT</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">,</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">Timeout</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Calling the dpr simulater resulted in exception: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The dpr simulator endpoint failed with status code: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;DPR processor results: </span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Task start_dpr FINISHED&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024, ESA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top", "navigation.tracking", "navigation.indexes", "navigation.path", "toc.integrate", "toc.follow", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>