
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../example/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>RS-Client Classes - RS-Python</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../_templates/sidebar_width.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
  <style>
    .custom-logo-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 10px;
      transition: all 0.1s ease-in-out;
    }

    .customBottom-logo-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      width: 100%;
      max-width: 600px;
      transition: all 0.1s ease-in-out;
    }

    .custom-logo-container img,
    .customBottom-logo-container img {
      width: auto;
      height: 50px;
      transition: all 0.1s ease-in-out;
    }

    .customTop-logo-container > div {
        margin-top: 10px;
    }

  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Move logo containers
      var topLogoContainer = document.querySelector('.customTop-logo-container');
      var bottomLogoContainer = document.querySelector('.customBottom-logo-container');
      var sidebarPrimary = document.querySelector('.md-sidebar--primary');
      var sidebarScrollwrap = document.querySelector('.md-sidebar__scrollwrap');

      if (topLogoContainer && sidebarPrimary) {
        sidebarPrimary.insertBefore(topLogoContainer, sidebarPrimary.firstChild);
      }

      if (bottomLogoContainer && sidebarScrollwrap) {
        sidebarScrollwrap.insertAdjacentElement('afterend', bottomLogoContainer);
      }

      // Theme detection and image switch
      function switchImagesBasedOnTheme() {
        var isDarkTheme = document.querySelectorAll('body[data-md-color-scheme="slate"]').length > 0;
        var images = document.querySelectorAll('img[data-dark-src]');

        images.forEach(function(img) {
          if (isDarkTheme) {
            img.src = img.getAttribute('data-dark-src');
          } else {
            img.src = img.getAttribute('data-light-src');
          }
        });
      }

      // Initial switch
      switchImagesBasedOnTheme();

      // Listen for theme change events
      $(".md-option").on("click", function (evt) {
        setTimeout(switchImagesBasedOnTheme, 100); // Delay to allow theme change to apply
      });
      /*
      var themeToggleButton = document.getElementsByClassName("md-option");
      if (themeToggleButton) {
        themeToggleButton.addEventListener('click', function() {
          setTimeout(switchImagesBasedOnTheme, 100); // Delay to allow theme change to apply
        });
      }
      */
      // If the theme change is triggered by other means
      document.documentElement.addEventListener('theme-changed', switchImagesBasedOnTheme);
    });
  </script>


  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-clients-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
  
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="RS-Python" class="md-header__button md-logo" aria-label="RS-Python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RS-Python
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              RS-Client Classes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../rs-server/docs/doc/" class="md-tabs__link">
          
  
    
  
  RS-Server

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../rs-client-libraries/docs/doc/" class="md-tabs__link">
          
  
    
  
  RS-Client

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../rs-demo/doc/" class="md-tabs__link">
          
  
    
  
  RS-Notebooks

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../rs_deployment_start/" class="md-tabs__link">
          
  
    
  
  RS-Deployment

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
  <div class="customTop-logo-container custom-logo-container">
    <div class="customEU-logo">
      <a href="https://www.airbus.com/en" target="_blank">
        <img src="../../../_static/EC_POS.png"
             alt="EU Logo"
             data-light-src="../../../_static/EC_POS.png"
             data-dark-src="../../../_static/EC_NEG.png" />
      </a>
    </div>
    <div class="customCop-logo">
      <a href="https://www.csgroup.eu/en/" target="_blank">
        <img src="../../../_static/Copernicus_blue.png"
             alt="Copernicus Logo"
             data-light-src="../../../_static/Copernicus_blue.png"
             data-dark-src="../../../_static/Copernicus_white.png" />
      </a>
    </div>
    <div class="customESA-logo">
      <a href="https://www.csgroup.eu/en/" target="_blank">
        <img src="../../../_static/ESA_logo_2020_Deep.png"
             alt="ESA Logo"
             data-light-src="../../../_static/ESA_logo_2020_Deep.png"
             data-dark-src="../../../_static/ESA_logo_2020_White.png" />
      </a>
    </div>
  </div>

  <div class="customBottom-logo-container">
    <div class="customAirbus-logo">
      <a href="https://www.airbus.com/en" target="_blank">
        <img src="../../../_static/AIRBUS_Blue.png"
             alt="Airbus Logo"
             data-light-src="../../../_static/AIRBUS_Blue.png"
             data-dark-src="../../../_static/AIRBUS_White.png" />
      </a>
    </div>
    <div class="customCS-logo">
      <a href="https://www.csgroup.eu/en/" target="_blank">
        <img src="../../../_static/logo_cs_group_bleu_petit.png"
             alt="CS Group Logo"
             data-light-src="../../../_static/logo_cs_group_bleu_petit.png"
             data-dark-src="../../../_static/logo_cs_group_bleu_petit.png" />
      </a>
    </div>
  </div>

    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="RS-Python" class="md-nav__button md-logo" aria-label="RS-Python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    RS-Python
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how_to/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generate Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../rs-server/docs/doc/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    RS-Server
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            RS-Server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            User Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/user_manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General Description
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/users/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overal Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/users/functionalities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Main Functionalities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/users/oauth2_apikey_manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OAuth2 and API Key Manager
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Developer Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/developer_manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General Description
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/dev/environment/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/dev/code-style/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code style
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_4" >
        
          
          <label class="md-nav__link" for="__nav_2_3_4" id="__nav_2_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Rest
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_4">
            <span class="md-nav__icon md-icon"></span>
            API Rest
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rs-server/swagger_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SwaggerUI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../rs-server/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Python API Library
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_5" id="__nav_2_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_5">
            <span class="md-nav__icon md-icon"></span>
            Python API Library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rs-server/adgs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADGS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rs-server/cadip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CADIP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/users/catalog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Catalog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rs-server/common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rs-server/frontend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frontend
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_6" >
        
          
          <label class="md-nav__link" for="__nav_2_3_6" id="__nav_2_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Additional information
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_6">
            <span class="md-nav__icon md-icon"></span>
            Additional information
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/dev/background/tree-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tree structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/dev/background/workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-server/docs/doc/dev/background/ci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../rs-client-libraries/docs/doc/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    RS-Client
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            RS-Client
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Python API Library
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Python API Library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    RS-Client Classes
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    RS-Client Classes
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient" class="md-nav__link">
    <span class="md-ellipsis">
      RsClient
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.apikey_config" class="md-nav__link">
    <span class="md-ellipsis">
      apikey_config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.apikey_iam_roles" class="md-nav__link">
    <span class="md-ellipsis">
      apikey_iam_roles
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.apikey_user_login" class="md-nav__link">
    <span class="md-ellipsis">
      apikey_user_login
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.href_search" class="md-nav__link">
    <span class="md-ellipsis">
      href_search
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.href_staging" class="md-nav__link">
    <span class="md-ellipsis">
      href_staging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.href_status" class="md-nav__link">
    <span class="md-ellipsis">
      href_status
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.apikey_security" class="md-nav__link">
    <span class="md-ellipsis">
      apikey_security
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.get_auxip_client" class="md-nav__link">
    <span class="md-ellipsis">
      get_auxip_client
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.get_cadip_client" class="md-nav__link">
    <span class="md-ellipsis">
      get_cadip_client
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.get_stac_client" class="md-nav__link">
    <span class="md-ellipsis">
      get_stac_client
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.search_stations" class="md-nav__link">
    <span class="md-ellipsis">
      search_stations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.staging" class="md-nav__link">
    <span class="md-ellipsis">
      staging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.rs_client.RsClient.staging_status" class="md-nav__link">
    <span class="md-ellipsis">
      staging_status
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.auxip_client.AuxipClient" class="md-nav__link">
    <span class="md-ellipsis">
      AuxipClient
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.auxip_client.AuxipClient.href_adgs" class="md-nav__link">
    <span class="md-ellipsis">
      href_adgs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.auxip_client.AuxipClient.href_search" class="md-nav__link">
    <span class="md-ellipsis">
      href_search
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.auxip_client.AuxipClient.href_staging" class="md-nav__link">
    <span class="md-ellipsis">
      href_staging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.auxip_client.AuxipClient.href_status" class="md-nav__link">
    <span class="md-ellipsis">
      href_status
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.auxip_client.AuxipClient.station_name" class="md-nav__link">
    <span class="md-ellipsis">
      station_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.cadip_client.CadipClient" class="md-nav__link">
    <span class="md-ellipsis">
      CadipClient
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.cadip_client.CadipClient.href_cadip" class="md-nav__link">
    <span class="md-ellipsis">
      href_cadip
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.cadip_client.CadipClient.href_search" class="md-nav__link">
    <span class="md-ellipsis">
      href_search
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.cadip_client.CadipClient.href_session" class="md-nav__link">
    <span class="md-ellipsis">
      href_session
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.cadip_client.CadipClient.href_staging" class="md-nav__link">
    <span class="md-ellipsis">
      href_staging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.cadip_client.CadipClient.href_status" class="md-nav__link">
    <span class="md-ellipsis">
      href_status
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.cadip_client.CadipClient.station_name" class="md-nav__link">
    <span class="md-ellipsis">
      station_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.cadip_client.CadipClient.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.cadip_client.CadipClient.search_sessions" class="md-nav__link">
    <span class="md-ellipsis">
      search_sessions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.stac_client.StacClient" class="md-nav__link">
    <span class="md-ellipsis">
      StacClient
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.stac_client.StacClient.href_catalog" class="md-nav__link">
    <span class="md-ellipsis">
      href_catalog
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.stac_client.StacClient.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.stac_client.StacClient.add_collection" class="md-nav__link">
    <span class="md-ellipsis">
      add_collection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.stac_client.StacClient.add_item" class="md-nav__link">
    <span class="md-ellipsis">
      add_item
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.stac_client.StacClient.full_collection_id" class="md-nav__link">
    <span class="md-ellipsis">
      full_collection_id
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.stac_client.StacClient.get_collection" class="md-nav__link">
    <span class="md-ellipsis">
      get_collection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.stac_client.StacClient.open" class="md-nav__link">
    <span class="md-ellipsis">
      open
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.stac_client.StacClient.remove_collection" class="md-nav__link">
    <span class="md-ellipsis">
      remove_collection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rs_client.stac_client.StacClient.remove_item" class="md-nav__link">
    <span class="md-ellipsis">
      remove_item
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RS-Client Workflows
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            RS-Client Workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../staging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Staging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s1_l0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S1 L0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rs_client_common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RS-Client Common
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../rs-demo/doc/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    RS-Notebooks
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            RS-Notebooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Modes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RS-Deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            RS-Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs_deployment_start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../rs-infrastructure/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Infrastructure Deployment
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Infrastructure Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Cluster%20Management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Cluster%20start%20and%20stop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster start and stop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/GitHub%20Container%20Registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub container registry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Ingress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ingress controller
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Prefect-Worker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prefect worker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Remote%20kubectl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote kubectl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rs-infrastructure/docs/how-to/Wazuh-Server_Install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wazuh Server installation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../rs-helm/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Applications Deployment
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Applications Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="api-clients-documentation">API Clients Documentation</h1>
<p>This documentation provides an overview of the various API clients available in the <code>rs_client</code> package. Each client is designed to interact with specific services and provide a convenient way to access their functionalities.  </p>
<p><span style="font-size: 1.5em; color: green;">RsClient</span>
</p>


<div class="doc doc-object doc-class">



<a id="rs_client.rs_client.RsClient"></a>
    <div class="doc doc-contents first">


      <p>RsClient class implementation.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="rs_client.rs_client.RsClient.rs_server_href">rs_server_href</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>RS-Server URL. In local mode, pass None.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="rs_client.rs_client.RsClient.rs_server_api_key">rs_server_api_key</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>API key for RS-Server authentication.
                     If not set, we try to read it from the RSPY_APIKEY environment variable.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="rs_client.rs_client.RsClient.owner_id">owner_id</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ID of the owner of the STAC catalog collections (no special characters allowoed).
            By default, this is the user login from the keycloak account, associated to the API key.
            Or, in local mode, this is the local system username.
            Else, your API Key must give you the rights to read/write on this catalog owner.
            This owner ID is also used in the RS-Client logging.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="rs_client.rs_client.RsClient.logger">logger</span></code></td>
            <td>
                  <code><span title="logging.Logger">Logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Logging instance.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="rs_client.rs_client.RsClient.local_mode">local_mode</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Local mode or hybrid/cluster mode.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="rs_client.rs_client.RsClient.apikey_headers">apikey_headers</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>API key in a dict, ready-to-use in HTTP request headers.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>docs/rs-client-libraries/rs_client/rs_client.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">RsClient</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    RsClient class implementation.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        rs_server_href (str): RS-Server URL. In local mode, pass None.</span>
<span class="sd">        rs_server_api_key (str): API key for RS-Server authentication.</span>
<span class="sd">                                 If not set, we try to read it from the RSPY_APIKEY environment variable.</span>
<span class="sd">        owner_id (str): ID of the owner of the STAC catalog collections (no special characters allowoed).</span>
<span class="sd">                        By default, this is the user login from the keycloak account, associated to the API key.</span>
<span class="sd">                        Or, in local mode, this is the local system username.</span>
<span class="sd">                        Else, your API Key must give you the rights to read/write on this catalog owner.</span>
<span class="sd">                        This owner ID is also used in the RS-Client logging.</span>
<span class="sd">        logger (logging.Logger): Logging instance.</span>
<span class="sd">        local_mode (bool): Local mode or hybrid/cluster mode.</span>
<span class="sd">        apikey_headers (dict): API key in a dict, ready-to-use in HTTP request headers.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">rs_server_href</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">rs_server_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">logger</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;RsClient class constructor.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">rs_server_href</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">rs_server_api_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">owner_id</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="o">=</span> <span class="n">logger</span> <span class="ow">or</span> <span class="n">Logging</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

        <span class="c1"># Remove trailing / character(s) from the URL</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="c1"># We are in local mode if the URL is undefined.</span>
        <span class="c1"># Env vars are used instead to determine the different services URL.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">local_mode</span> <span class="o">=</span> <span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">)</span>

        <span class="c1"># If the API key is not set, we try to read it from the RSPY_APIKEY environment variable.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;RSPY_APIKEY&quot;</span><span class="p">)</span>  <span class="c1"># None if the env var is not set</span>

        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_mode</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;API key is mandatory for RS-Server authentication&quot;</span><span class="p">)</span>

        <span class="c1"># For HTTP request headers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">{</span><span class="s2">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">APIKEY_HEADER</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">}}</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span> <span class="k">else</span> <span class="p">{}</span>
        <span class="p">)</span>

        <span class="c1"># Determine automatically the owner id</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">:</span>
            <span class="c1"># In local mode, we use the local system username</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_mode</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getuser</span><span class="p">()</span>

            <span class="c1"># In hybrid/cluster mode, we retrieve the API key login</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apikey_user_login</span>

        <span class="c1"># Remove special characters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^a-zA-Z0-9]+&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;The owner ID is empty or only contains special characters&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Owner ID: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># The following variable is needed for the tests to pass</span>
    <span class="n">apikey_security_cache</span><span class="p">:</span> <span class="n">TTLCache</span> <span class="o">=</span> <span class="n">TTLCache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">,</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">120</span><span class="p">)</span>

    <span class="nd">@cached</span><span class="p">(</span><span class="n">cache</span><span class="o">=</span><span class="n">apikey_security_cache</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">apikey_security</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check the api key validity. Cache an infinite (sys.maxsize) number of results for 120 seconds.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple of (IAM roles, config, user login) information from the keycloak account, associated to the api key.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># In local mode, we have no API key, so return empty results</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_mode</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[],</span> <span class="p">{},</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># self.logger.warning(</span>
        <span class="c1">#     f&quot;TODO: use {self.rs_server_href}/apikeymanager/check/api_key instead, see: &quot;</span>
        <span class="c1">#     &quot;https://pforge-exchange2.astrium.eads.net/jira/browse/RSPY-257&quot;,</span>
        <span class="c1"># )</span>
        <span class="c1"># Does not work in hybrid mode for now because this URL is not exposed.</span>
        <span class="n">check_url</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;RSPY_UAC_CHECK_URL&quot;</span><span class="p">]</span>

        <span class="c1"># Request the API key manager, pass user-defined api key in http header</span>
        <span class="c1"># check_url = f&quot;{self.rs_server_href}/apikeymanager/check/api_key&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Call the API key manager&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">check_url</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span>

        <span class="c1"># Read the api key info</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="c1"># Note: for now, config is an empty dict</span>
            <span class="k">return</span> <span class="n">contents</span><span class="p">[</span><span class="s2">&quot;iam_roles&quot;</span><span class="p">],</span> <span class="n">contents</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">],</span> <span class="n">contents</span><span class="p">[</span><span class="s2">&quot;user_login&quot;</span><span class="p">]</span>

        <span class="c1"># Try to read the response detail or error</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="k">if</span> <span class="s2">&quot;detail&quot;</span> <span class="ow">in</span> <span class="n">json</span><span class="p">:</span>
                <span class="n">detail</span> <span class="o">=</span> <span class="n">json</span><span class="p">[</span><span class="s2">&quot;detail&quot;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">detail</span> <span class="o">=</span> <span class="n">json</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>

        <span class="c1"># If this fail, get the full response content</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-exception-caught</span>
            <span class="n">detail</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span>

        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;API key manager status code </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">detail</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">apikey_iam_roles</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the IAM (Identity and Access Management) roles from the keycloak account,</span>
<span class="sd">        associated to the api key.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">apikey_security</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">apikey_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the config from the keycloak account, associated to the api key.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">apikey_security</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">apikey_user_login</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the user login from the keycloak account, associated to the api key.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">apikey_security</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>

    <span class="c1">#############################</span>
    <span class="c1"># Get child class instances #</span>
    <span class="c1">#############################</span>

    <span class="k">def</span> <span class="nf">get_auxip_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AuxipClient&quot;</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: F821</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return an instance of the child class AuxipClient, with the same attributes as this &quot;self&quot; instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">rs_client.auxip_client</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># pylint: disable=import-outside-toplevel,cyclic-import</span>
            <span class="n">AuxipClient</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">AuxipClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_cadip_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">station</span><span class="p">:</span> <span class="n">ECadipStation</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CadipClient&quot;</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: F821</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return an instance of the child class CadipClient, with the same attributes as this &quot;self&quot; instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            station (ECadipStation): Cadip station</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">rs_client.cadip_client</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># pylint: disable=import-outside-toplevel,cyclic-import</span>
            <span class="n">CadipClient</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">CadipClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_stac_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StacClient&quot;</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: F821</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return an instance of the child class StacClient, with the same attributes as this &quot;self&quot; instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">rs_client.stac_client</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># pylint: disable=import-outside-toplevel,cyclic-import</span>
            <span class="n">StacClient</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">StacClient</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1">############################</span>
    <span class="c1"># Call RS-Server endpoints #</span>
    <span class="c1">############################</span>

    <span class="k">def</span> <span class="nf">staging_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">EDownloadStatus</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check the status of a file download from the specified rs-server endpoint.</span>

<span class="sd">        This function sends a GET request to the rs-server endpoint with the filename as a query parameter</span>
<span class="sd">        to retrieve the status of the file download. If the response is successful and contains a &#39;status&#39;</span>
<span class="sd">        key in the JSON response, the function returns the corresponding download status enum value. If the</span>
<span class="sd">        response is not successful or does not contain the &#39;status&#39; key, the function returns a FAILED status.</span>

<span class="sd">        Args:</span>
<span class="sd">            filename (str): The name of the file for which to check the status.</span>
<span class="sd">            timeout (int): The timeout duration for the HTTP request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            EDownloadStatus: The download status enum value based on the response from the endpoint.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># TODO: check the status for a certain timeout if http returns NOK ?</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">href_status</span><span class="p">,</span>  <span class="c1"># pylint: disable=no-member # (&quot;self&quot; is AuxipClient or CadipClient)</span>
                <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">filename</span><span class="p">},</span>
                <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">eval_response</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">response</span><span class="o">.</span><span class="n">ok</span>
                <span class="ow">and</span> <span class="s2">&quot;name&quot;</span> <span class="ow">in</span> <span class="n">eval_response</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="ow">and</span> <span class="n">filename</span> <span class="o">==</span> <span class="n">eval_response</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                <span class="ow">and</span> <span class="s2">&quot;status&quot;</span> <span class="ow">in</span> <span class="n">eval_response</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="n">EDownloadStatus</span><span class="p">(</span><span class="n">eval_response</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>

        <span class="k">except</span> <span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">,</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">Timeout</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Status endpoint exception: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">EDownloadStatus</span><span class="o">.</span><span class="n">FAILED</span>

    <span class="k">def</span> <span class="nf">staging</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">s3_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">tmp_download_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stage a file for download.</span>

<span class="sd">        This method stages a file for download by sending a request to the staging endpoint</span>
<span class="sd">        with optional parameters for S3 path and temporary download path.</span>

<span class="sd">        Args:</span>
<span class="sd">            filename (str): The name of the file to be staged for download.</span>
<span class="sd">            timeout (int): The timeout duration for the HTTP request.</span>
<span class="sd">            s3_path (str, optional): The S3 path where the file will be stored after download.</span>
<span class="sd">                Defaults to an empty string.</span>
<span class="sd">            tmp_download_path (str, optional): The temporary download path for the file.</span>
<span class="sd">                Defaults to an empty string.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If an error occurs while staging the file.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># dictionary to be used for payload request</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># some protections for the optional args</span>
        <span class="k">if</span> <span class="n">s3_path</span><span class="p">:</span>
            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;obs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3_path</span>
        <span class="k">if</span> <span class="n">tmp_download_path</span><span class="p">:</span>
            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;local&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp_download_path</span>

        <span class="c1"># update the filename to be ingested</span>
        <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filename</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># logger.debug(f&quot;Calling  {endpoint} with payload {payload}&quot;)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">href_staging</span><span class="p">,</span>  <span class="c1"># pylint: disable=no-member # (&quot;self&quot; is AuxipClient or CadipClient)</span>
                <span class="n">params</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span>
                <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Download start endpoint returned in </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">elapsed</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The download endpoint returned error for file </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The download endpoint returned error for file </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">,</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">Timeout</span><span class="p">,</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ReadTimeout</span><span class="p">,</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Staging file exception for </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Staging file exception for </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">def</span> <span class="nf">search_stations</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">start_date</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">stop_date</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">limit</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sortby</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve a list of files from the specified endpoint.</span>

<span class="sd">        This function queries the specified endpoint to retrieve a list of files available in the</span>
<span class="sd">        station (CADIP, ADGS, LTA ...) that were collected by the satellite within the provided time range,</span>
<span class="sd">        starting from &#39;start_date&#39; up to &#39;stop_date&#39; (inclusive).</span>

<span class="sd">        Args:</span>
<span class="sd">            start_date (datetime): The start date of the time range.</span>
<span class="sd">            stop_date (datetime): The stop date of the time range.</span>
<span class="sd">            timeout (int): The timeout duration for the HTTP request.</span>
<span class="sd">            limit (int, optional): The maximum number of results to return. Defaults to None.</span>
<span class="sd">            sortby (str, optional): The attribute to sort the results by. Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            files (list): The list of files available at the station within the specified time range.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the endpoint can&#39;t be reached</span>

<span class="sd">        Notes:</span>
<span class="sd">            - This function queries the specified endpoint with a time range to retrieve information about</span>
<span class="sd">            available files.</span>
<span class="sd">            - It constructs a payload with the start and stop dates in ISO 8601 format and sends a GET</span>
<span class="sd">            request to the endpoint.</span>
<span class="sd">            - The response is expected to be a STAC Compatible formatted JSONResponse, containing information about</span>
<span class="sd">             available files.</span>
<span class="sd">            - The function converts a STAC FeatureCollection to a Python list.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;datetime&quot;</span><span class="p">:</span> <span class="n">start_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">DATETIME_FORMAT</span><span class="p">)</span>
            <span class="o">+</span> <span class="s2">&quot;/&quot;</span>  <span class="c1"># 2014-01-01T12:00:00Z/2023-12-30T12:00:00Z&quot;,</span>
            <span class="o">+</span> <span class="n">stop_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">DATETIME_FORMAT</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sortby</span><span class="p">:</span>
            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;sortby&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sortby</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">href_search</span><span class="p">,</span>  <span class="c1"># pylint: disable=no-member # (&quot;self&quot; is AuxipClient or CadipClient)</span>
                <span class="n">params</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span>
                <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">,</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">Timeout</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not get the response from the station search endpoint: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Could not get the response from the station search endpoint&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">file_info</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;features&quot;</span><span class="p">]:</span>
                    <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file_info</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Wrong format of search endpoint answer&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">return</span> <span class="n">files</span>

    <span class="c1">##############################################</span>
    <span class="c1"># Methods to be implemented by child classes #</span>
    <span class="c1">##############################################</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_search</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implemented by AuxipClient and CadipClient.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_staging</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implemented by AuxipClient and CadipClient.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implemented by AuxipClient and CadipClient.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="rs_client.rs_client.RsClient.apikey_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apikey_config</span><span class="p">:</span> <span class="nb">dict</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the config from the keycloak account, associated to the api key.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.rs_client.RsClient.apikey_iam_roles" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apikey_iam_roles</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the IAM (Identity and Access Management) roles from the keycloak account,
associated to the api key.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.rs_client.RsClient.apikey_user_login" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apikey_user_login</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the user login from the keycloak account, associated to the api key.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.rs_client.RsClient.href_search" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_search</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Implemented by AuxipClient and CadipClient.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.rs_client.RsClient.href_staging" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_staging</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Implemented by AuxipClient and CadipClient.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.rs_client.RsClient.href_status" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_status</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Implemented by AuxipClient and CadipClient.</p>
    </div>

</div>



<div class="doc doc-object doc-function">


<h2 id="rs_client.rs_client.RsClient.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="n">rs_server_api_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">owner_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>RsClient class constructor.</p>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/rs_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">rs_server_href</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">rs_server_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;RsClient class constructor.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">rs_server_href</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">rs_server_api_key</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">owner_id</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="o">=</span> <span class="n">logger</span> <span class="ow">or</span> <span class="n">Logging</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

    <span class="c1"># Remove trailing / character(s) from the URL</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="c1"># We are in local mode if the URL is undefined.</span>
    <span class="c1"># Env vars are used instead to determine the different services URL.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">local_mode</span> <span class="o">=</span> <span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">)</span>

    <span class="c1"># If the API key is not set, we try to read it from the RSPY_APIKEY environment variable.</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;RSPY_APIKEY&quot;</span><span class="p">)</span>  <span class="c1"># None if the env var is not set</span>

    <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_mode</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;API key is mandatory for RS-Server authentication&quot;</span><span class="p">)</span>

    <span class="c1"># For HTTP request headers</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">{</span><span class="s2">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">APIKEY_HEADER</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">}}</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="p">)</span>

    <span class="c1"># Determine automatically the owner id</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">:</span>
        <span class="c1"># In local mode, we use the local system username</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_mode</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getuser</span><span class="p">()</span>

        <span class="c1"># In hybrid/cluster mode, we retrieve the API key login</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apikey_user_login</span>

    <span class="c1"># Remove special characters</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^a-zA-Z0-9]+&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;The owner ID is empty or only contains special characters&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Owner ID: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.rs_client.RsClient.apikey_security" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apikey_security</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Check the api key validity. Cache an infinite (sys.maxsize) number of results for 120 seconds.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>tuple[list[str], dict, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple of (IAM roles, config, user login) information from the keycloak account, associated to the api key.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/rs_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@cached</span><span class="p">(</span><span class="n">cache</span><span class="o">=</span><span class="n">apikey_security_cache</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">apikey_security</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check the api key validity. Cache an infinite (sys.maxsize) number of results for 120 seconds.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple of (IAM roles, config, user login) information from the keycloak account, associated to the api key.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># In local mode, we have no API key, so return empty results</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_mode</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[],</span> <span class="p">{},</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># self.logger.warning(</span>
    <span class="c1">#     f&quot;TODO: use {self.rs_server_href}/apikeymanager/check/api_key instead, see: &quot;</span>
    <span class="c1">#     &quot;https://pforge-exchange2.astrium.eads.net/jira/browse/RSPY-257&quot;,</span>
    <span class="c1"># )</span>
    <span class="c1"># Does not work in hybrid mode for now because this URL is not exposed.</span>
    <span class="n">check_url</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;RSPY_UAC_CHECK_URL&quot;</span><span class="p">]</span>

    <span class="c1"># Request the API key manager, pass user-defined api key in http header</span>
    <span class="c1"># check_url = f&quot;{self.rs_server_href}/apikeymanager/check/api_key&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Call the API key manager&quot;</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">check_url</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span>

    <span class="c1"># Read the api key info</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="c1"># Note: for now, config is an empty dict</span>
        <span class="k">return</span> <span class="n">contents</span><span class="p">[</span><span class="s2">&quot;iam_roles&quot;</span><span class="p">],</span> <span class="n">contents</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">],</span> <span class="n">contents</span><span class="p">[</span><span class="s2">&quot;user_login&quot;</span><span class="p">]</span>

    <span class="c1"># Try to read the response detail or error</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">if</span> <span class="s2">&quot;detail&quot;</span> <span class="ow">in</span> <span class="n">json</span><span class="p">:</span>
            <span class="n">detail</span> <span class="o">=</span> <span class="n">json</span><span class="p">[</span><span class="s2">&quot;detail&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">detail</span> <span class="o">=</span> <span class="n">json</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>

    <span class="c1"># If this fail, get the full response content</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-exception-caught</span>
        <span class="n">detail</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span>

    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;API key manager status code </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">detail</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.rs_client.RsClient.get_auxip_client" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_auxip_client</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Return an instance of the child class AuxipClient, with the same attributes as this "self" instance.</p>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/rs_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_auxip_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AuxipClient&quot;</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: F821</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return an instance of the child class AuxipClient, with the same attributes as this &quot;self&quot; instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">rs_client.auxip_client</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># pylint: disable=import-outside-toplevel,cyclic-import</span>
        <span class="n">AuxipClient</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">AuxipClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.rs_client.RsClient.get_cadip_client" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_cadip_client</span><span class="p">(</span><span class="n">station</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Return an instance of the child class CadipClient, with the same attributes as this "self" instance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>station</code></td>
            <td>
                  <code><span title="rs_common.config.ECadipStation">ECadipStation</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cadip station</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/rs_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_cadip_client</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">station</span><span class="p">:</span> <span class="n">ECadipStation</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CadipClient&quot;</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: F821</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return an instance of the child class CadipClient, with the same attributes as this &quot;self&quot; instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        station (ECadipStation): Cadip station</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">rs_client.cadip_client</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># pylint: disable=import-outside-toplevel,cyclic-import</span>
        <span class="n">CadipClient</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">CadipClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.rs_client.RsClient.get_stac_client" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_stac_client</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Return an instance of the child class StacClient, with the same attributes as this "self" instance.</p>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/rs_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_stac_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StacClient&quot;</span><span class="p">:</span>  <span class="c1"># type: ignore # noqa: F821</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return an instance of the child class StacClient, with the same attributes as this &quot;self&quot; instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">rs_client.stac_client</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># pylint: disable=import-outside-toplevel,cyclic-import</span>
        <span class="n">StacClient</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">StacClient</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_api_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.rs_client.RsClient.search_stations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search_stations</span><span class="p">(</span><span class="n">start_date</span><span class="p">,</span> <span class="n">stop_date</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sortby</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Retrieve a list of files from the specified endpoint.</p>
<p>This function queries the specified endpoint to retrieve a list of files available in the
station (CADIP, ADGS, LTA ...) that were collected by the satellite within the provided time range,
starting from 'start_date' up to 'stop_date' (inclusive).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>start_date</code></td>
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The start date of the time range.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stop_date</code></td>
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stop date of the time range.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>timeout</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeout duration for the HTTP request.</p>
              </div>
            </td>
            <td>
                  <code><span title="rs_client.rs_client.TIMEOUT">TIMEOUT</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>limit</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum number of results to return. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>sortby</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The attribute to sort the results by. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>files</code></td>            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of files available at the station within the specified time range.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>RuntimeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the endpoint can't be reached</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>This function queries the specified endpoint with a time range to retrieve information about
available files.</li>
<li>It constructs a payload with the start and stop dates in ISO 8601 format and sends a GET
request to the endpoint.</li>
<li>The response is expected to be a STAC Compatible formatted JSONResponse, containing information about
 available files.</li>
<li>The function converts a STAC FeatureCollection to a Python list.</li>
</ul>
</details>
            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/rs_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">search_stations</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">start_date</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">stop_date</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">limit</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">sortby</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve a list of files from the specified endpoint.</span>

<span class="sd">    This function queries the specified endpoint to retrieve a list of files available in the</span>
<span class="sd">    station (CADIP, ADGS, LTA ...) that were collected by the satellite within the provided time range,</span>
<span class="sd">    starting from &#39;start_date&#39; up to &#39;stop_date&#39; (inclusive).</span>

<span class="sd">    Args:</span>
<span class="sd">        start_date (datetime): The start date of the time range.</span>
<span class="sd">        stop_date (datetime): The stop date of the time range.</span>
<span class="sd">        timeout (int): The timeout duration for the HTTP request.</span>
<span class="sd">        limit (int, optional): The maximum number of results to return. Defaults to None.</span>
<span class="sd">        sortby (str, optional): The attribute to sort the results by. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        files (list): The list of files available at the station within the specified time range.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the endpoint can&#39;t be reached</span>

<span class="sd">    Notes:</span>
<span class="sd">        - This function queries the specified endpoint with a time range to retrieve information about</span>
<span class="sd">        available files.</span>
<span class="sd">        - It constructs a payload with the start and stop dates in ISO 8601 format and sends a GET</span>
<span class="sd">        request to the endpoint.</span>
<span class="sd">        - The response is expected to be a STAC Compatible formatted JSONResponse, containing information about</span>
<span class="sd">         available files.</span>
<span class="sd">        - The function converts a STAC FeatureCollection to a Python list.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;datetime&quot;</span><span class="p">:</span> <span class="n">start_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">DATETIME_FORMAT</span><span class="p">)</span>
        <span class="o">+</span> <span class="s2">&quot;/&quot;</span>  <span class="c1"># 2014-01-01T12:00:00Z/2023-12-30T12:00:00Z&quot;,</span>
        <span class="o">+</span> <span class="n">stop_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">DATETIME_FORMAT</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
        <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sortby</span><span class="p">:</span>
        <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;sortby&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sortby</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">href_search</span><span class="p">,</span>  <span class="c1"># pylint: disable=no-member # (&quot;self&quot; is AuxipClient or CadipClient)</span>
            <span class="n">params</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">,</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">Timeout</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not get the response from the station search endpoint: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Could not get the response from the station search endpoint&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">file_info</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;features&quot;</span><span class="p">]:</span>
                <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file_info</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Wrong format of search endpoint answer&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">return</span> <span class="n">files</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.rs_client.RsClient.staging" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">staging</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">s3_path</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">tmp_download_path</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Stage a file for download.</p>
<p>This method stages a file for download by sending a request to the staging endpoint
with optional parameters for S3 path and temporary download path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filename</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the file to be staged for download.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>timeout</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeout duration for the HTTP request.</p>
              </div>
            </td>
            <td>
                  <code><span title="rs_client.rs_client.TIMEOUT">TIMEOUT</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>s3_path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The S3 path where the file will be stored after download.
Defaults to an empty string.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>tmp_download_path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The temporary download path for the file.
Defaults to an empty string.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>RuntimeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If an error occurs while staging the file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/rs_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">staging</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">s3_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">tmp_download_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stage a file for download.</span>

<span class="sd">    This method stages a file for download by sending a request to the staging endpoint</span>
<span class="sd">    with optional parameters for S3 path and temporary download path.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): The name of the file to be staged for download.</span>
<span class="sd">        timeout (int): The timeout duration for the HTTP request.</span>
<span class="sd">        s3_path (str, optional): The S3 path where the file will be stored after download.</span>
<span class="sd">            Defaults to an empty string.</span>
<span class="sd">        tmp_download_path (str, optional): The temporary download path for the file.</span>
<span class="sd">            Defaults to an empty string.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If an error occurs while staging the file.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># dictionary to be used for payload request</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># some protections for the optional args</span>
    <span class="k">if</span> <span class="n">s3_path</span><span class="p">:</span>
        <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;obs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">s3_path</span>
    <span class="k">if</span> <span class="n">tmp_download_path</span><span class="p">:</span>
        <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;local&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp_download_path</span>

    <span class="c1"># update the filename to be ingested</span>
    <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filename</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># logger.debug(f&quot;Calling  {endpoint} with payload {payload}&quot;)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">href_staging</span><span class="p">,</span>  <span class="c1"># pylint: disable=no-member # (&quot;self&quot; is AuxipClient or CadipClient)</span>
            <span class="n">params</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Download start endpoint returned in </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">elapsed</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The download endpoint returned error for file </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The download endpoint returned error for file </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">,</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">Timeout</span><span class="p">,</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ReadTimeout</span><span class="p">,</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Staging file exception for </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Staging file exception for </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.rs_client.RsClient.staging_status" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">staging_status</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Check the status of a file download from the specified rs-server endpoint.</p>
<p>This function sends a GET request to the rs-server endpoint with the filename as a query parameter
to retrieve the status of the file download. If the response is successful and contains a 'status'
key in the JSON response, the function returns the corresponding download status enum value. If the
response is not successful or does not contain the 'status' key, the function returns a FAILED status.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filename</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the file for which to check the status.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>timeout</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeout duration for the HTTP request.</p>
              </div>
            </td>
            <td>
                  <code><span title="rs_client.rs_client.TIMEOUT">TIMEOUT</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>EDownloadStatus</code></td>            <td>
                  <code><span title="rs_common.config.EDownloadStatus">EDownloadStatus</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The download status enum value based on the response from the endpoint.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/rs_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">staging_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">EDownloadStatus</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the status of a file download from the specified rs-server endpoint.</span>

<span class="sd">    This function sends a GET request to the rs-server endpoint with the filename as a query parameter</span>
<span class="sd">    to retrieve the status of the file download. If the response is successful and contains a &#39;status&#39;</span>
<span class="sd">    key in the JSON response, the function returns the corresponding download status enum value. If the</span>
<span class="sd">    response is not successful or does not contain the &#39;status&#39; key, the function returns a FAILED status.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): The name of the file for which to check the status.</span>
<span class="sd">        timeout (int): The timeout duration for the HTTP request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        EDownloadStatus: The download status enum value based on the response from the endpoint.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># TODO: check the status for a certain timeout if http returns NOK ?</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">href_status</span><span class="p">,</span>  <span class="c1"># pylint: disable=no-member # (&quot;self&quot; is AuxipClient or CadipClient)</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">filename</span><span class="p">},</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">eval_response</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">response</span><span class="o">.</span><span class="n">ok</span>
            <span class="ow">and</span> <span class="s2">&quot;name&quot;</span> <span class="ow">in</span> <span class="n">eval_response</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="ow">and</span> <span class="n">filename</span> <span class="o">==</span> <span class="n">eval_response</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
            <span class="ow">and</span> <span class="s2">&quot;status&quot;</span> <span class="ow">in</span> <span class="n">eval_response</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">EDownloadStatus</span><span class="p">(</span><span class="n">eval_response</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>

    <span class="k">except</span> <span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">,</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">Timeout</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Status endpoint exception: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">EDownloadStatus</span><span class="o">.</span><span class="n">FAILED</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><p>This client is used for interacting with the RS service. It provides methods for performing common operations such as querying and managing data.</p>
<p><span style="font-size: 1.5em; color: green;">AuxipClient</span>
</p>


<div class="doc doc-object doc-class">



<a id="rs_client.auxip_client.AuxipClient"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="rs_client.rs_client.RsClient" href="#rs_client.rs_client.RsClient">RsClient</a></code></p>


      <p>AuxipClient class implementation.</p>
<p>Attributes: see :py:class:<code>RsClient</code></p>

              <details class="quote">
                <summary>Source code in <code>docs/rs-client-libraries/rs_client/auxip_client.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AuxipClient</span><span class="p">(</span><span class="n">RsClient</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    AuxipClient class implementation.</span>

<span class="sd">    Attributes: see :py:class:`RsClient`</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_adgs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the RS-Server ADGS URL hostname.</span>
<span class="sd">        This URL can be overwritten using the RSPY_HOST_ADGS env variable (used e.g. for local mode).</span>
<span class="sd">        Either it should just be the RS-Server URL.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">from_env</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;RSPY_HOST_ADGS&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">from_env</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;RS-Server URL is undefined&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_search</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the RS-Server hostname and path where the ADGS search endpoint is deployed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_adgs</span><span class="si">}</span><span class="s2">/adgs/aux/search&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_staging</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the RS-Server hostname and path where the ADGS staging endpoint is deployed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_adgs</span><span class="si">}</span><span class="s2">/adgs/aux&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the RS-Server hostname and path where the ADGS status endpoint is deployed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_adgs</span><span class="si">}</span><span class="s2">/adgs/aux/status&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">station_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return &quot;AUXIP&quot;.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AUXIP_STATION</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="rs_client.auxip_client.AuxipClient.href_adgs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_adgs</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the RS-Server ADGS URL hostname.
This URL can be overwritten using the RSPY_HOST_ADGS env variable (used e.g. for local mode).
Either it should just be the RS-Server URL.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.auxip_client.AuxipClient.href_search" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_search</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the RS-Server hostname and path where the ADGS search endpoint is deployed.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.auxip_client.AuxipClient.href_staging" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_staging</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the RS-Server hostname and path where the ADGS staging endpoint is deployed.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.auxip_client.AuxipClient.href_status" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_status</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the RS-Server hostname and path where the ADGS status endpoint is deployed.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.auxip_client.AuxipClient.station_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">station_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return "AUXIP".</p>
    </div>

</div>





  </div>

    </div>

</div><p>The AuxipClient is tailored for accessing the AUXIP service. It includes functionalities for handling auxiliary data and metadata.</p>
<p><span style="font-size: 1.5em; color: green;">CadipClient</span>
</p>


<div class="doc doc-object doc-class">



<a id="rs_client.cadip_client.CadipClient"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="rs_client.rs_client.RsClient" href="#rs_client.rs_client.RsClient">RsClient</a></code></p>


      <p>CadipClient class implementation.</p>


<p><span class="doc-section-title">see :py:class:`RsClient`</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="rs_client.cadip_client.CadipClient.station">station</span></code></td>
            <td>
                  <code><span title="rs_common.config.ECadipStation">ECadipStation</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cadip station</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>docs/rs-client-libraries/rs_client/cadip_client.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CadipClient</span><span class="p">(</span><span class="n">RsClient</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    CadipClient class implementation.</span>

<span class="sd">    Attributes: see :py:class:`RsClient`</span>
<span class="sd">        station (ECadipStation): Cadip station</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">rs_server_href</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">rs_server_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">station</span><span class="p">:</span> <span class="n">ECadipStation</span><span class="p">,</span>
        <span class="n">logger</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;CadipClient class constructor.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="n">rs_server_api_key</span><span class="p">,</span> <span class="n">owner_id</span><span class="p">,</span> <span class="n">logger</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="p">:</span> <span class="n">ECadipStation</span> <span class="o">=</span> <span class="n">ECadipStation</span><span class="p">[</span><span class="n">station</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;There is no such CADIP station: </span><span class="si">{</span><span class="n">station</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;There is no such CADIP station: </span><span class="si">{</span><span class="n">station</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_cadip</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the RS-Server CADIP URL hostname.</span>
<span class="sd">        This URL can be overwritten using the RSPY_HOST_CADIP env variable (used e.g. for local mode).</span>
<span class="sd">        Either it should just be the RS-Server URL.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">from_env</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;RSPY_HOST_CADIP&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">from_env</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;RS-Server URL is undefined&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_search</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the RS-Server hostname and path where the CADIP search endpoint is deployed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_cadip</span><span class="si">}</span><span class="s2">/cadip/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">/cadu/search&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_session</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the RS-Server hostname and path where the CADIP search session endpoint is deployed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_cadip</span><span class="si">}</span><span class="s2">/cadip/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">/session&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_staging</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the RS-Server hostname and path where the CADIP staging endpoint is deployed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_cadip</span><span class="si">}</span><span class="s2">/cadip/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">/cadu&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the RS-Server hostname and path where the CADIP status endpoint is deployed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_cadip</span><span class="si">}</span><span class="s2">/cadip/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">/cadu/status&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">station_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the station name.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># TO BE DISCUSSED: maybe just return &quot;CADIP&quot;</span>

    <span class="c1">############################</span>
    <span class="c1"># Call RS-Server endpoints #</span>
    <span class="c1">############################</span>

    <span class="k">def</span> <span class="nf">search_sessions</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">stop_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">platforms</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">EPlatform</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>  <span class="c1"># TODO return pystac.ItemCollection instead</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Endpoint to retrieve list of sessions from any CADIP station.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout (int): The timeout duration for the HTTP request.</span>
<span class="sd">            session_ids (list[str]): Session identifiers</span>
<span class="sd">                (eg: [&quot;S1A_20170501121534062343&quot;] or [&quot;S1A_20170501121534062343, S1A_20240328185208053186&quot;])</span>
<span class="sd">            start_date (datetime): Start date of the time interval</span>
<span class="sd">            stop_date (datetime): Stop date of the time interval</span>
<span class="sd">            platforms (list[PlatformEnum]): platform list</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">payload</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">session_ids</span><span class="p">:</span>
            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">session_ids</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">platforms</span><span class="p">:</span>
            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">platform</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">platforms</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">start_date</span><span class="p">:</span>
            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;start_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">DATETIME_FORMAT</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">stop_date</span><span class="p">:</span>
            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stop_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stop_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">DATETIME_FORMAT</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">href_session</span><span class="p">,</span>
                <span class="n">params</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span>
                <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">,</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">Timeout</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not get the response from the session search endpoint: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Could not get the response from the session search endpoint&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="n">sessions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">session_info</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;features&quot;</span><span class="p">]:</span>
                    <span class="n">sessions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">session_info</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Wrong format of session search endpoint answer&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">return</span> <span class="n">sessions</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="rs_client.cadip_client.CadipClient.href_cadip" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_cadip</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the RS-Server CADIP URL hostname.
This URL can be overwritten using the RSPY_HOST_CADIP env variable (used e.g. for local mode).
Either it should just be the RS-Server URL.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.cadip_client.CadipClient.href_search" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_search</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the RS-Server hostname and path where the CADIP search endpoint is deployed.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.cadip_client.CadipClient.href_session" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_session</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the RS-Server hostname and path where the CADIP search session endpoint is deployed.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.cadip_client.CadipClient.href_staging" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_staging</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the RS-Server hostname and path where the CADIP staging endpoint is deployed.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.cadip_client.CadipClient.href_status" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_status</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the RS-Server hostname and path where the CADIP status endpoint is deployed.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="rs_client.cadip_client.CadipClient.station_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">station_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the station name.</p>
    </div>

</div>



<div class="doc doc-object doc-function">


<h2 id="rs_client.cadip_client.CadipClient.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="n">rs_server_api_key</span><span class="p">,</span> <span class="n">owner_id</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>CadipClient class constructor.</p>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/cadip_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">rs_server_href</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">rs_server_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">station</span><span class="p">:</span> <span class="n">ECadipStation</span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;CadipClient class constructor.&quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="n">rs_server_api_key</span><span class="p">,</span> <span class="n">owner_id</span><span class="p">,</span> <span class="n">logger</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">station</span><span class="p">:</span> <span class="n">ECadipStation</span> <span class="o">=</span> <span class="n">ECadipStation</span><span class="p">[</span><span class="n">station</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;There is no such CADIP station: </span><span class="si">{</span><span class="n">station</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;There is no such CADIP station: </span><span class="si">{</span><span class="n">station</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.cadip_client.CadipClient.search_sessions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search_sessions</span><span class="p">(</span><span class="n">session_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stop_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">platforms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Endpoint to retrieve list of sessions from any CADIP station.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>timeout</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeout duration for the HTTP request.</p>
              </div>
            </td>
            <td>
                  <code><span title="rs_client.rs_client.TIMEOUT">TIMEOUT</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>session_ids</code></td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Session identifiers
(eg: ["S1A_20170501121534062343"] or ["S1A_20170501121534062343, S1A_20240328185208053186"])</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>start_date</code></td>
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Start date of the time interval</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stop_date</code></td>
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Stop date of the time interval</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>platforms</code></td>
            <td>
                  <code>list[PlatformEnum]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>platform list</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/cadip_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">search_sessions</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">session_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">start_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">stop_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">platforms</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">EPlatform</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>  <span class="c1"># TODO return pystac.ItemCollection instead</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Endpoint to retrieve list of sessions from any CADIP station.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout (int): The timeout duration for the HTTP request.</span>
<span class="sd">        session_ids (list[str]): Session identifiers</span>
<span class="sd">            (eg: [&quot;S1A_20170501121534062343&quot;] or [&quot;S1A_20170501121534062343, S1A_20240328185208053186&quot;])</span>
<span class="sd">        start_date (datetime): Start date of the time interval</span>
<span class="sd">        stop_date (datetime): Stop date of the time interval</span>
<span class="sd">        platforms (list[PlatformEnum]): platform list</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">payload</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">session_ids</span><span class="p">:</span>
        <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">session_ids</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">platforms</span><span class="p">:</span>
        <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">platform</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">platforms</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">start_date</span><span class="p">:</span>
        <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;start_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">DATETIME_FORMAT</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">stop_date</span><span class="p">:</span>
        <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;stop_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stop_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">DATETIME_FORMAT</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">href_session</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">,</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">Timeout</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not get the response from the session search endpoint: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Could not get the response from the session search endpoint&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="n">sessions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">session_info</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;features&quot;</span><span class="p">]:</span>
                <span class="n">sessions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">session_info</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Wrong format of session search endpoint answer&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">return</span> <span class="n">sessions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><p>CadipClient is designed to interface with the CADIP service. Use this client to perform tasks related to CADIP data processing and retrieval.</p>
<p><span style="font-size: 1.5em; color: green;">StacClient</span>
</p>


<div class="doc doc-object doc-class">



<a id="rs_client.stac_client.StacClient"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="rs_client.rs_client.RsClient" href="#rs_client.rs_client.RsClient">RsClient</a></code>, <code><span title="pystac_client.Client">Client</span></code></p>


      <p>StacClient inherits from both rs_client.RsClient and pystac_client.Client. The goal of this class is to
allow an user to use RS-Server services more easily than calling REST endpoints directly.</p>

              <details class="quote">
                <summary>Source code in <code>docs/rs-client-libraries/rs_client/stac_client.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">StacClient</span><span class="p">(</span><span class="n">RsClient</span><span class="p">,</span> <span class="n">Client</span><span class="p">):</span>  <span class="c1"># type: ignore # pylint: disable=too-many-ancestors</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;StacClient inherits from both rs_client.RsClient and pystac_client.Client. The goal of this class is to</span>
<span class="sd">    allow an user to use RS-Server services more easily than calling REST endpoints directly.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">##################</span>
    <span class="c1"># Initialisation #</span>
    <span class="c1">##################</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments,super-init-not-called # super-init is called in .open(...)</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># pylint: disable=redefined-builtin</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">stac_extensions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">extra_fields</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">href</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">catalog_type</span><span class="p">:</span> <span class="n">CatalogType</span> <span class="o">=</span> <span class="n">CatalogType</span><span class="o">.</span><span class="n">ABSOLUTE_PUBLISHED</span><span class="p">,</span>
        <span class="n">strategy</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">HrefLayoutStrategy</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">modifier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Modifiable</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor. Called only by pystac.</span>
<span class="sd">        As an user: don&#39;t use this directly, call the open(...) class method instead or RsClient.get_stac_client(...).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Call manually the parent pystac Client constructor.</span>
        <span class="c1"># The RsClient constructor will be called manually later.</span>
        <span class="n">Client</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
            <span class="n">stac_extensions</span><span class="o">=</span><span class="n">stac_extensions</span><span class="p">,</span>
            <span class="n">extra_fields</span><span class="o">=</span><span class="n">extra_fields</span><span class="p">,</span>
            <span class="n">href</span><span class="o">=</span><span class="n">href</span><span class="p">,</span>
            <span class="n">catalog_type</span><span class="o">=</span><span class="n">catalog_type</span><span class="p">,</span>
            <span class="n">strategy</span><span class="o">=</span><span class="n">strategy</span><span class="p">,</span>
            <span class="n">modifier</span><span class="o">=</span><span class="n">modifier</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span>  <span class="c1"># type: ignore  # pylint: disable=arguments-renamed, too-many-arguments</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="c1"># RsClient parameters</span>
        <span class="n">rs_server_href</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">rs_server_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">logger</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="c1"># pystac Client parameters</span>
        <span class="n">headers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">ignore_conformance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">modifier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Modifiable</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">request_modifier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Request</span><span class="p">],</span> <span class="n">Union</span><span class="p">[</span><span class="n">Request</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">stac_io</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StacApiIO</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Timeout</span><span class="p">]</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StacClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new StacClient instance.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">rs_server_api_key</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">headers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">headers</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">headers</span><span class="p">[</span><span class="n">APIKEY_HEADER</span><span class="p">]</span> <span class="o">=</span> <span class="n">rs_server_api_key</span>

        <span class="n">client</span><span class="p">:</span> <span class="n">StacClient</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">__href_catalog</span><span class="p">(</span><span class="n">rs_server_href</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/catalog/&quot;</span><span class="p">,</span>
            <span class="n">headers</span><span class="p">,</span>
            <span class="n">parameters</span><span class="p">,</span>
            <span class="n">ignore_conformance</span><span class="p">,</span>
            <span class="n">modifier</span><span class="p">,</span>
            <span class="n">request_modifier</span><span class="p">,</span>
            <span class="n">stac_io</span><span class="p">,</span>
            <span class="n">timeout</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Manual call to the parent RsClient constructor</span>
        <span class="n">RsClient</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">client</span><span class="p">,</span>
            <span class="n">rs_server_href</span><span class="o">=</span><span class="n">rs_server_href</span><span class="p">,</span>
            <span class="n">rs_server_api_key</span><span class="o">=</span><span class="n">rs_server_api_key</span><span class="p">,</span>
            <span class="n">owner_id</span><span class="o">=</span><span class="n">owner_id</span><span class="p">,</span>
            <span class="n">logger</span><span class="o">=</span><span class="n">logger</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">client</span>

    <span class="c1">##############</span>
    <span class="c1"># Properties #</span>
    <span class="c1">##############</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">href_catalog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the RS-Server catalog URL hostname.</span>
<span class="sd">        This URL can be overwritten using the RSPY_HOST_CATALOG env variable (used e.g. for local mode).</span>
<span class="sd">        Either it should just be the RS-Server URL.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__href_catalog</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rs_server_href</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">__href_catalog</span><span class="p">(</span><span class="n">rs_server_href</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">from_env</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;RSPY_HOST_CATALOG&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">from_env</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">rs_server_href</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;RS-Server URL is undefined&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rs_server_href</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">full_collection_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the full collection name as: &lt;owner_id&gt;:&lt;collection_id&gt;</span>

<span class="sd">        Args:</span>
<span class="sd">            owner_id (str): Collection owner ID. If missing, we use self.owner_id.</span>
<span class="sd">            collection_id (str): Collection name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">owner_id</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">collection_id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="c1">################################</span>
    <span class="c1"># Specific STAC implementation #</span>
    <span class="c1">################################</span>

    <span class="nd">@lru_cache</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">get_collection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">Collection</span><span class="p">,</span> <span class="n">CollectionClient</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the requested collection as &lt;owner_id&gt;:&lt;collection_id&gt;&quot;&quot;&quot;</span>
        <span class="n">full_collection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Client</span><span class="o">.</span><span class="n">get_collection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">full_collection_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_collection</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">collection</span><span class="p">:</span> <span class="n">Collection</span><span class="p">,</span>
        <span class="n">add_public_license</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the collection links, then post the collection into the catalog.</span>

<span class="sd">        Args:</span>
<span class="sd">            collection (Collection): STAC collection</span>
<span class="sd">            add_public_license (bool): If True, add a public domain license field and link.</span>
<span class="sd">            owner_id (str, optional): Collection owner ID. If missing, we use self.owner_id.</span>
<span class="sd">            timeout (int): The timeout duration for the HTTP request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            JSONResponse (json): The response of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">full_owner_id</span> <span class="o">=</span> <span class="n">owner_id</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span>

        <span class="c1"># Use owner_id:collection_id instead of just the collection ID, before adding the links,</span>
        <span class="c1"># so the links contain the full owner_id:collection_id</span>
        <span class="n">short_collection_id</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">id</span>
        <span class="n">full_collection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">short_collection_id</span><span class="p">)</span>
        <span class="n">collection</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">full_collection_id</span>

        <span class="c1"># Default description</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">collection</span><span class="o">.</span><span class="n">description</span><span class="p">:</span>
            <span class="n">collection</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;This is the collection </span><span class="si">{</span><span class="n">short_collection_id</span><span class="si">}</span><span class="s2"> from user </span><span class="si">{</span><span class="n">full_owner_id</span><span class="si">}</span><span class="s2">.&quot;</span>

        <span class="c1"># Add the owner_id as an extra field</span>
        <span class="n">collection</span><span class="o">.</span><span class="n">extra_fields</span><span class="p">[</span><span class="s2">&quot;owner&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">full_owner_id</span>

        <span class="c1"># Add public domain license</span>
        <span class="k">if</span> <span class="n">add_public_license</span><span class="p">:</span>
            <span class="n">collection</span><span class="o">.</span><span class="n">license</span> <span class="o">=</span> <span class="s2">&quot;public-domain&quot;</span>
            <span class="n">collection</span><span class="o">.</span><span class="n">add_link</span><span class="p">(</span>
                <span class="n">Link</span><span class="p">(</span>
                    <span class="n">rel</span><span class="o">=</span><span class="n">RelType</span><span class="o">.</span><span class="n">LICENSE</span><span class="p">,</span>
                    <span class="n">target</span><span class="o">=</span><span class="s2">&quot;https://creativecommons.org/licenses/publicdomain/&quot;</span><span class="p">,</span>
                    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;public-domain&quot;</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>

        <span class="c1"># Update the links</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">collection</span><span class="p">)</span>

        <span class="c1"># Restore the short collection_id at the root of the collection</span>
        <span class="n">collection</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">short_collection_id</span>

        <span class="c1"># Check that the collection is compliant to STAC</span>
        <span class="n">collection</span><span class="o">.</span><span class="n">validate_all</span><span class="p">()</span>

        <span class="c1"># Post the collection to the catalog</span>
        <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_catalog</span><span class="si">}</span><span class="s2">/catalog/collections&quot;</span><span class="p">,</span>
            <span class="n">json</span><span class="o">=</span><span class="n">collection</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove_collection</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">collection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove/delete a collection from the catalog.</span>

<span class="sd">        Args:</span>
<span class="sd">            collection_id (str): The collection id.</span>
<span class="sd">            owner_id (str, optional): Collection owner ID. If missing, we use self.owner_id.</span>
<span class="sd">            timeout (int): The timeout duration for the HTTP request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            JSONResponse: The response of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># owner_id:collection_id</span>
        <span class="n">full_collection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">)</span>

        <span class="c1"># Remove the collection from the &quot;child&quot; links of the local catalog instance</span>
        <span class="n">collection_link</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">self_href</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">/collections/</span><span class="si">{</span><span class="n">full_collection_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">link</span> <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">links</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">((</span><span class="n">link</span><span class="o">.</span><span class="n">rel</span> <span class="o">==</span> <span class="n">pystac</span><span class="o">.</span><span class="n">RelType</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">href</span> <span class="o">==</span> <span class="n">collection_link</span><span class="p">))</span>
        <span class="p">]</span>

        <span class="c1"># We need to clear the cache for this and parent &quot;get_collection&quot; methods</span>
        <span class="c1"># because their returned value must be updated.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_collection</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span>
        <span class="n">Client</span><span class="o">.</span><span class="n">get_collection</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span>

        <span class="c1"># Remove the collection from the server catalog</span>
        <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_catalog</span><span class="si">}</span><span class="s2">/catalog/collections/</span><span class="si">{</span><span class="n">full_collection_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_item</span><span class="p">(</span>  <span class="c1"># type: ignore # pylint: disable=arguments-renamed</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">collection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">item</span><span class="p">:</span> <span class="n">Item</span><span class="p">,</span>
        <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the item links, then post the item into the catalog.</span>

<span class="sd">        Args:</span>
<span class="sd">            collection_id (str): The collection id.</span>
<span class="sd">            item (Item): STAC item to update and post</span>
<span class="sd">            owner_id (str, optional): Collection owner ID. If missing, we use self.owner_id.</span>
<span class="sd">            timeout (int): The timeout duration for the HTTP request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            JSONResponse: The response of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># owner_id:collection_id</span>
        <span class="n">full_collection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">)</span>

        <span class="c1"># Get the collection from the catalog</span>
        <span class="n">collection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_collection</span><span class="p">(</span><span class="n">collection_id</span><span class="p">,</span> <span class="n">owner_id</span><span class="p">)</span>

        <span class="c1"># Update the item  contents</span>
        <span class="n">collection</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="c1"># Post the item to the catalog</span>
        <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_catalog</span><span class="si">}</span><span class="s2">/catalog/collections/</span><span class="si">{</span><span class="n">full_collection_id</span><span class="si">}</span><span class="s2">/items&quot;</span><span class="p">,</span>
            <span class="n">json</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove_item</span><span class="p">(</span>  <span class="c1"># type: ignore # pylint: disable=arguments-differ</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">collection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">item_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove/delete an item from a collection.</span>

<span class="sd">        Args:</span>
<span class="sd">            collection_id (str): The collection id.</span>
<span class="sd">            item_id (str): The item id.</span>
<span class="sd">            owner_id (str, optional): Collection owner ID. If missing, we use self.owner_id.</span>
<span class="sd">            timeout (int): The timeout duration for the HTTP request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            JSONResponse: The response of the request.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># owner_id:collection_id</span>
        <span class="n">full_collection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">)</span>

        <span class="c1"># Remove the collection from the server catalog</span>
        <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_catalog</span><span class="si">}</span><span class="s2">/catalog/collections/</span><span class="si">{</span><span class="n">full_collection_id</span><span class="si">}</span><span class="s2">/items/</span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="rs_client.stac_client.StacClient.href_catalog" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">href_catalog</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Return the RS-Server catalog URL hostname.
This URL can be overwritten using the RSPY_HOST_CATALOG env variable (used e.g. for local mode).
Either it should just be the RS-Server URL.</p>
    </div>

</div>



<div class="doc doc-object doc-function">


<h2 id="rs_client.stac_client.StacClient.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stac_extensions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra_fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">catalog_type</span><span class="o">=</span><span class="n">CatalogType</span><span class="o">.</span><span class="n">ABSOLUTE_PUBLISHED</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">modifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Constructor. Called only by pystac.
As an user: don't use this directly, call the open(...) class method instead or RsClient.get_stac_client(...).</p>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/stac_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># pylint: disable=too-many-arguments,super-init-not-called # super-init is called in .open(...)</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># pylint: disable=redefined-builtin</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">stac_extensions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_fields</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">href</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">catalog_type</span><span class="p">:</span> <span class="n">CatalogType</span> <span class="o">=</span> <span class="n">CatalogType</span><span class="o">.</span><span class="n">ABSOLUTE_PUBLISHED</span><span class="p">,</span>
    <span class="n">strategy</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">HrefLayoutStrategy</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">modifier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Modifiable</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor. Called only by pystac.</span>
<span class="sd">    As an user: don&#39;t use this directly, call the open(...) class method instead or RsClient.get_stac_client(...).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Call manually the parent pystac Client constructor.</span>
    <span class="c1"># The RsClient constructor will be called manually later.</span>
    <span class="n">Client</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
        <span class="n">stac_extensions</span><span class="o">=</span><span class="n">stac_extensions</span><span class="p">,</span>
        <span class="n">extra_fields</span><span class="o">=</span><span class="n">extra_fields</span><span class="p">,</span>
        <span class="n">href</span><span class="o">=</span><span class="n">href</span><span class="p">,</span>
        <span class="n">catalog_type</span><span class="o">=</span><span class="n">catalog_type</span><span class="p">,</span>
        <span class="n">strategy</span><span class="o">=</span><span class="n">strategy</span><span class="p">,</span>
        <span class="n">modifier</span><span class="o">=</span><span class="n">modifier</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.stac_client.StacClient.add_collection" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_collection</span><span class="p">(</span><span class="n">collection</span><span class="p">,</span> <span class="n">add_public_license</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">owner_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Update the collection links, then post the collection into the catalog.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>collection</code></td>
            <td>
                  <code><span title="pystac.Collection">Collection</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>STAC collection</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>add_public_license</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, add a public domain license field and link.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>owner_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Collection owner ID. If missing, we use self.owner_id.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>timeout</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeout duration for the HTTP request.</p>
              </div>
            </td>
            <td>
                  <code><span title="rs_client.rs_client.TIMEOUT">TIMEOUT</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>JSONResponse</code></td>            <td>
                  <code>json</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The response of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/stac_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_collection</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">collection</span><span class="p">:</span> <span class="n">Collection</span><span class="p">,</span>
    <span class="n">add_public_license</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the collection links, then post the collection into the catalog.</span>

<span class="sd">    Args:</span>
<span class="sd">        collection (Collection): STAC collection</span>
<span class="sd">        add_public_license (bool): If True, add a public domain license field and link.</span>
<span class="sd">        owner_id (str, optional): Collection owner ID. If missing, we use self.owner_id.</span>
<span class="sd">        timeout (int): The timeout duration for the HTTP request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        JSONResponse (json): The response of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">full_owner_id</span> <span class="o">=</span> <span class="n">owner_id</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span>

    <span class="c1"># Use owner_id:collection_id instead of just the collection ID, before adding the links,</span>
    <span class="c1"># so the links contain the full owner_id:collection_id</span>
    <span class="n">short_collection_id</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">id</span>
    <span class="n">full_collection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">short_collection_id</span><span class="p">)</span>
    <span class="n">collection</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">full_collection_id</span>

    <span class="c1"># Default description</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">collection</span><span class="o">.</span><span class="n">description</span><span class="p">:</span>
        <span class="n">collection</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;This is the collection </span><span class="si">{</span><span class="n">short_collection_id</span><span class="si">}</span><span class="s2"> from user </span><span class="si">{</span><span class="n">full_owner_id</span><span class="si">}</span><span class="s2">.&quot;</span>

    <span class="c1"># Add the owner_id as an extra field</span>
    <span class="n">collection</span><span class="o">.</span><span class="n">extra_fields</span><span class="p">[</span><span class="s2">&quot;owner&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">full_owner_id</span>

    <span class="c1"># Add public domain license</span>
    <span class="k">if</span> <span class="n">add_public_license</span><span class="p">:</span>
        <span class="n">collection</span><span class="o">.</span><span class="n">license</span> <span class="o">=</span> <span class="s2">&quot;public-domain&quot;</span>
        <span class="n">collection</span><span class="o">.</span><span class="n">add_link</span><span class="p">(</span>
            <span class="n">Link</span><span class="p">(</span>
                <span class="n">rel</span><span class="o">=</span><span class="n">RelType</span><span class="o">.</span><span class="n">LICENSE</span><span class="p">,</span>
                <span class="n">target</span><span class="o">=</span><span class="s2">&quot;https://creativecommons.org/licenses/publicdomain/&quot;</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="s2">&quot;public-domain&quot;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="c1"># Update the links</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">collection</span><span class="p">)</span>

    <span class="c1"># Restore the short collection_id at the root of the collection</span>
    <span class="n">collection</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">short_collection_id</span>

    <span class="c1"># Check that the collection is compliant to STAC</span>
    <span class="n">collection</span><span class="o">.</span><span class="n">validate_all</span><span class="p">()</span>

    <span class="c1"># Post the collection to the catalog</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_catalog</span><span class="si">}</span><span class="s2">/catalog/collections&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="n">collection</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.stac_client.StacClient.add_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_item</span><span class="p">(</span><span class="n">collection_id</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">owner_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Update the item links, then post the item into the catalog.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>collection_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The collection id.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>item</code></td>
            <td>
                  <code><span title="pystac.Item">Item</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>STAC item to update and post</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>owner_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Collection owner ID. If missing, we use self.owner_id.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>timeout</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeout duration for the HTTP request.</p>
              </div>
            </td>
            <td>
                  <code><span title="rs_client.rs_client.TIMEOUT">TIMEOUT</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>JSONResponse</code></td>            <td>
                  <code><span title="requests.Response">Response</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The response of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/stac_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_item</span><span class="p">(</span>  <span class="c1"># type: ignore # pylint: disable=arguments-renamed</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">collection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">item</span><span class="p">:</span> <span class="n">Item</span><span class="p">,</span>
    <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the item links, then post the item into the catalog.</span>

<span class="sd">    Args:</span>
<span class="sd">        collection_id (str): The collection id.</span>
<span class="sd">        item (Item): STAC item to update and post</span>
<span class="sd">        owner_id (str, optional): Collection owner ID. If missing, we use self.owner_id.</span>
<span class="sd">        timeout (int): The timeout duration for the HTTP request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        JSONResponse: The response of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># owner_id:collection_id</span>
    <span class="n">full_collection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">)</span>

    <span class="c1"># Get the collection from the catalog</span>
    <span class="n">collection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_collection</span><span class="p">(</span><span class="n">collection_id</span><span class="p">,</span> <span class="n">owner_id</span><span class="p">)</span>

    <span class="c1"># Update the item  contents</span>
    <span class="n">collection</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="c1"># Post the item to the catalog</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_catalog</span><span class="si">}</span><span class="s2">/catalog/collections/</span><span class="si">{</span><span class="n">full_collection_id</span><span class="si">}</span><span class="s2">/items&quot;</span><span class="p">,</span>
        <span class="n">json</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.stac_client.StacClient.full_collection_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Return the full collection name as: <owner_id>:<collection_id></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>owner_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Collection owner ID. If missing, we use self.owner_id.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>collection_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Collection name</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/stac_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">full_collection_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the full collection name as: &lt;owner_id&gt;:&lt;collection_id&gt;</span>

<span class="sd">    Args:</span>
<span class="sd">        owner_id (str): Collection owner ID. If missing, we use self.owner_id.</span>
<span class="sd">        collection_id (str): Collection name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">owner_id</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">owner_id</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">collection_id</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.stac_client.StacClient.get_collection" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_collection</span><span class="p">(</span><span class="n">collection_id</span><span class="p">,</span> <span class="n">owner_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Get the requested collection as <owner_id>:<collection_id></p>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/stac_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@lru_cache</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">get_collection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">Collection</span><span class="p">,</span> <span class="n">CollectionClient</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the requested collection as &lt;owner_id&gt;:&lt;collection_id&gt;&quot;&quot;&quot;</span>
    <span class="n">full_collection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Client</span><span class="o">.</span><span class="n">get_collection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">full_collection_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.stac_client.StacClient.open" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">open</span><span class="p">(</span><span class="n">rs_server_href</span><span class="p">,</span> <span class="n">rs_server_api_key</span><span class="p">,</span> <span class="n">owner_id</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ignore_conformance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">modifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">request_modifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stac_io</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

      <p>Create a new StacClient instance.</p>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/stac_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">open</span><span class="p">(</span>  <span class="c1"># type: ignore  # pylint: disable=arguments-renamed, too-many-arguments</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="c1"># RsClient parameters</span>
    <span class="n">rs_server_href</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">rs_server_api_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># pystac Client parameters</span>
    <span class="n">headers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ignore_conformance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">modifier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Modifiable</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">request_modifier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Request</span><span class="p">],</span> <span class="n">Union</span><span class="p">[</span><span class="n">Request</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">stac_io</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StacApiIO</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Timeout</span><span class="p">]</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StacClient</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new StacClient instance.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">rs_server_api_key</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">headers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">headers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">headers</span><span class="p">[</span><span class="n">APIKEY_HEADER</span><span class="p">]</span> <span class="o">=</span> <span class="n">rs_server_api_key</span>

    <span class="n">client</span><span class="p">:</span> <span class="n">StacClient</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__href_catalog</span><span class="p">(</span><span class="n">rs_server_href</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/catalog/&quot;</span><span class="p">,</span>
        <span class="n">headers</span><span class="p">,</span>
        <span class="n">parameters</span><span class="p">,</span>
        <span class="n">ignore_conformance</span><span class="p">,</span>
        <span class="n">modifier</span><span class="p">,</span>
        <span class="n">request_modifier</span><span class="p">,</span>
        <span class="n">stac_io</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Manual call to the parent RsClient constructor</span>
    <span class="n">RsClient</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">client</span><span class="p">,</span>
        <span class="n">rs_server_href</span><span class="o">=</span><span class="n">rs_server_href</span><span class="p">,</span>
        <span class="n">rs_server_api_key</span><span class="o">=</span><span class="n">rs_server_api_key</span><span class="p">,</span>
        <span class="n">owner_id</span><span class="o">=</span><span class="n">owner_id</span><span class="p">,</span>
        <span class="n">logger</span><span class="o">=</span><span class="n">logger</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">client</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.stac_client.StacClient.remove_collection" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_collection</span><span class="p">(</span><span class="n">collection_id</span><span class="p">,</span> <span class="n">owner_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Remove/delete a collection from the catalog.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>collection_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The collection id.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>owner_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Collection owner ID. If missing, we use self.owner_id.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>timeout</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeout duration for the HTTP request.</p>
              </div>
            </td>
            <td>
                  <code><span title="rs_client.rs_client.TIMEOUT">TIMEOUT</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>JSONResponse</code></td>            <td>
                  <code><span title="requests.Response">Response</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The response of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/stac_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_collection</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">collection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove/delete a collection from the catalog.</span>

<span class="sd">    Args:</span>
<span class="sd">        collection_id (str): The collection id.</span>
<span class="sd">        owner_id (str, optional): Collection owner ID. If missing, we use self.owner_id.</span>
<span class="sd">        timeout (int): The timeout duration for the HTTP request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        JSONResponse: The response of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># owner_id:collection_id</span>
    <span class="n">full_collection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">)</span>

    <span class="c1"># Remove the collection from the &quot;child&quot; links of the local catalog instance</span>
    <span class="n">collection_link</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">self_href</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">/collections/</span><span class="si">{</span><span class="n">full_collection_id</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">link</span> <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">links</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">((</span><span class="n">link</span><span class="o">.</span><span class="n">rel</span> <span class="o">==</span> <span class="n">pystac</span><span class="o">.</span><span class="n">RelType</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">href</span> <span class="o">==</span> <span class="n">collection_link</span><span class="p">))</span>
    <span class="p">]</span>

    <span class="c1"># We need to clear the cache for this and parent &quot;get_collection&quot; methods</span>
    <span class="c1"># because their returned value must be updated.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">get_collection</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span>
    <span class="n">Client</span><span class="o">.</span><span class="n">get_collection</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span>

    <span class="c1"># Remove the collection from the server catalog</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_catalog</span><span class="si">}</span><span class="s2">/catalog/collections/</span><span class="si">{</span><span class="n">full_collection_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="rs_client.stac_client.StacClient.remove_item" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_item</span><span class="p">(</span><span class="n">collection_id</span><span class="p">,</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">owner_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

      <p>Remove/delete an item from a collection.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>collection_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The collection id.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>item_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The item id.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>owner_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Collection owner ID. If missing, we use self.owner_id.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>timeout</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeout duration for the HTTP request.</p>
              </div>
            </td>
            <td>
                  <code><span title="rs_client.rs_client.TIMEOUT">TIMEOUT</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>JSONResponse</code></td>            <td>
                  <code><span title="requests.Response">Response</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The response of the request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>docs/rs-client-libraries/rs_client/stac_client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_item</span><span class="p">(</span>  <span class="c1"># type: ignore # pylint: disable=arguments-differ</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">collection_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">item_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">owner_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove/delete an item from a collection.</span>

<span class="sd">    Args:</span>
<span class="sd">        collection_id (str): The collection id.</span>
<span class="sd">        item_id (str): The item id.</span>
<span class="sd">        owner_id (str, optional): Collection owner ID. If missing, we use self.owner_id.</span>
<span class="sd">        timeout (int): The timeout duration for the HTTP request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        JSONResponse: The response of the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># owner_id:collection_id</span>
    <span class="n">full_collection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_collection_id</span><span class="p">(</span><span class="n">owner_id</span><span class="p">,</span> <span class="n">collection_id</span><span class="p">)</span>

    <span class="c1"># Remove the collection from the server catalog</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">href_catalog</span><span class="si">}</span><span class="s2">/catalog/collections/</span><span class="si">{</span><span class="n">full_collection_id</span><span class="si">}</span><span class="s2">/items/</span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">apikey_headers</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><p>This client allows you to interact with the STAC service, making it easy to search, retrieve, and manage spatio-temporal asset catalog data.</p>
<p>For detailed usage instructions and examples for each client, please refer to the respective sections.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024, ESA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top", "navigation.tracking", "navigation.indexes", "navigation.path", "toc.integrate", "toc.follow", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>